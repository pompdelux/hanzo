{% extends '::adminbase.html.twig' %}

{% block content %}
<nav class="sub">
  <ul>
    <li id="select-language">
      <a class="open-menu" href="#">
        {% if domain %}
          <span class="flag {{ domain }}"></span><span class="domain-key">.{{ domain }}</span> |
        {% endif %}
        {{ 'domain.selector'|trans({}, 'admin') }}
      </a>
      <div style="display:none;">
        <ul>
        {% for domain in domains_availible %}
          <li>
            <a href="{{ path('admin_settings_domain', {'domain_key' : domain.domainkey}) }}">
              <span class="flag {{ domain.domainkey }}"></span>{{ domain.domainkey }}
            </a>
          </li>
        {% endfor %}
        </ul>
      </div>
    </li>
    <li>
      <a href="{{ path('admin_settings') }}">
        {{ 'settings.global.settings'|trans({}, 'admin') }}
      </a>
    </li>
  </ul>
</nav>
<h1>{{ 'admin.settings.header.text.%domain_key%'|trans({'%domain_key%' : domain}, 'admin') }}</h1>

{% for message in app.session.flashbag.get('notice') %}
<div class="message notice">
  {{ message|trans({}, 'admin') }}
</div>
{% endfor %}

<div>
  <p>{{ 'admin.domain.settings.description.text'|trans({}, 'admin') }}</p>
  <form id="settings-list" action="{{ path('admin_settings_domain', {'domain_key' : domain}) }}" method="post" {{ form_enctype(form) }}>
    <div class="clearfix">
      <input class="button right" type="submit" value="{{ 'save.settings'|trans({}, 'admin') }}">
      <a class="button left" href="{{ path('admin_settings') }}">{{ 'cancel'|trans({}, 'admin') }}</a>
    </div>
    <div>
      {{ form_rest(form) }}
      {{ form_row(form._token) }}
    </div>
    <div class="clearfix">
      <input class="button right" type="submit" value="{{ 'save.settings'|trans({}, 'admin') }}">
      <a class="button left" href="{{ path('admin_settings') }}">{{ 'cancel'|trans({}, 'admin') }}</a>
    </div>
  </form>
</div>
<h1>{{ 'admin.settings.add.header.text.%domain_key%'|trans({'%domain_key%' : domain}, 'admin') }}</h1>
<div>
  <p>{{ 'admin.domain.settings.add.description.text'|trans({}, 'admin') }}</p>
  <form id="add-setting" action="{{ path('admin_setting_add', {'domain_setting' : true}) }}" method="post" {{ form_enctype(add_domain_setting_form) }}>
    <div>
      {{ form_rest(add_domain_setting_form) }}
      {{ form_row(add_domain_setting_form._token) }}
    </div>
    <input class="button" type="submit" value="{{ 'add.setting'|trans({}, 'admin') }}">
  </form>
</div>
{% endblock %}
