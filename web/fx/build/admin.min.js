function helpdesk_open(key){var pptable=prettyPrint($.parseJSON(key),{maxDepth:6}),defaults={close:Translator.get("js:close"),overlayClose:!0,escKey:!0,html:'<div class="dialoug alert info"><h2>'+Translator.get("js:notice")+"</h2>"+pptable.innerHTML+"</div>"};return $.colorbox(defaults),!1}!function(a){function d(d,e){var i,j,k,f=this,g=d.add(f),h=a(window),l=a.tools.expose&&(e.mask||e.expose),m=Math.random().toString().slice(10);l&&("string"==typeof l&&(l={color:l}),l.closeOnClick=l.closeOnEsc=!1);var n=e.target||d.attr("rel");if(j=n?a(n):null||d,!j.length)throw"Could not find Overlay: "+n;d&&-1==d.index(j)&&d.click(function(a){return f.load(a),a.preventDefault()}),a.extend(f,{load:function(d){if(f.isOpened())return f;var i=c[e.effect];if(!i)throw'Overlay: cannot find effect : "'+e.effect+'"';if(e.oneInstance&&a.each(b,function(){this.close(d)}),d=d||a.Event(),d.type="onBeforeLoad",g.trigger(d),d.isDefaultPrevented())return f;k=!0,l&&a(j).expose(l);var n=e.top,o=e.left,p=j.outerWidth({margin:!0}),q=j.outerHeight({margin:!0});return"string"==typeof n&&(n="center"==n?Math.max((h.height()-q)/2,0):parseInt(n,10)/100*h.height()),"center"==o&&(o=Math.max((h.width()-p)/2,0)),i[0].call(f,{top:n,left:o},function(){k&&(d.type="onLoad",g.trigger(d))}),l&&e.closeOnClick&&a.mask.getMask().one("click",f.close),e.closeOnClick&&a(document).on("click."+m,function(b){a(b.target).parents(j).length||f.close(b)}),e.closeOnEsc&&a(document).on("keydown."+m,function(a){27==a.keyCode&&f.close(a)}),f},close:function(b){return f.isOpened()?(b=b||a.Event(),b.type="onBeforeClose",g.trigger(b),b.isDefaultPrevented()?void 0:(k=!1,c[e.effect][1].call(f,function(){b.type="onClose",g.trigger(b)}),a(document).off("click."+m+" keydown."+m),l&&a.mask.close(),f)):f},getOverlay:function(){return j},getTrigger:function(){return d},getClosers:function(){return i},isOpened:function(){return k},getConf:function(){return e}}),a.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(b,c){a.isFunction(e[c])&&a(f).on(c,e[c]),f[c]=function(b){return b&&a(f).on(c,b),f}}),i=j.find(e.close||".close"),!i.length&&!e.close&&(i=a('<a class="close"></a>'),j.prepend(i)),i.click(function(a){f.close(a)}),e.load&&f.load()}a.tools=a.tools||{version:"v1.2.7"},a.tools.overlay={addEffect:function(a,b,d){c[a]=[b,d]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!a.browser.msie||a.browser.version>6,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var b=[],c={};a.tools.overlay.addEffect("default",function(b,c){var d=this.getConf(),e=a(window);d.fixed||(b.top+=e.scrollTop(),b.left+=e.scrollLeft()),b.position=d.fixed?"fixed":"absolute",this.getOverlay().css(b).fadeIn(d.speed,c)},function(a){this.getOverlay().fadeOut(this.getConf().closeSpeed,a)}),a.fn.overlay=function(c){var e=this.data("overlay");return e?e:(a.isFunction(c)&&(c={onBeforeLoad:c}),c=a.extend(!0,{},a.tools.overlay.conf,c),this.each(function(){e=new d(a(this),c),b.push(e),a(this).data("overlay",e)}),c.api?e:this)}}(jQuery),function(a){function d(a){var b=a.offset();return{top:b.top+a.height()/2,left:b.left+a.width()/2}}var b=a.tools.overlay,c=a(window);a.extend(b.conf,{start:{top:null,left:null},fadeInSpeed:"fast",zIndex:9999});var e=function(b,e){var f=this.getOverlay(),g=this.getConf(),h=this.getTrigger(),i=this,j=f.outerWidth({margin:!0}),k=f.data("img"),l=g.fixed?"fixed":"absolute";if(!k){var m=f.css("backgroundImage");if(!m)throw"background-image CSS property not set for overlay";m=m.slice(m.indexOf("(")+1,m.indexOf(")")).replace(/\"/g,""),f.css("backgroundImage","none"),k=a('<img src="'+m+'"/>'),k.css({border:0,display:"none"}).width(j),a("body").append(k),f.data("img",k)}var n=g.start.top||Math.round(c.height()/2),o=g.start.left||Math.round(c.width()/2);if(h){var p=d(h);n=p.top,o=p.left}g.fixed?(n-=c.scrollTop(),o-=c.scrollLeft()):(b.top+=c.scrollTop(),b.left+=c.scrollLeft()),k.css({position:"absolute",top:n,left:o,width:0,zIndex:g.zIndex}).show(),b.position=l,f.css(b),k.animate({top:b.top,left:b.left,width:j},g.speed,function(){f.css("zIndex",g.zIndex+1).fadeIn(g.fadeInSpeed,function(){i.isOpened()&&!a(this).index(f)?e.call():f.hide()})}).css("position",l)},f=function(b){var e=this.getOverlay().hide(),f=this.getConf(),g=this.getTrigger(),h=e.data("img"),i={top:f.start.top,left:f.start.left,width:0};g&&a.extend(i,d(g)),f.fixed&&h.css({position:"absolute"}).animate({top:"+="+c.scrollTop(),left:"+="+c.scrollLeft()},0),h.animate(i,f.closeSpeed,b)};b.addEffect("apple",e,f)}(jQuery),function(a){function c(b,c){var d=a(c);return d.length<2?d:b.parent().find(c)}function e(b,e){var f=this,g=b.add(f),h=b.children(),i=0,j=e.vertical;if(d||(d=f),h.length>1&&(h=a(e.items,b)),e.size>1&&(e.circular=!1),a.extend(f,{getConf:function(){return e},getIndex:function(){return i},getSize:function(){return f.getItems().size()},getNaviButtons:function(){return n.add(o)},getRoot:function(){return b},getItemWrap:function(){return h},getItems:function(){return h.find(e.item).not("."+e.clonedClass)},move:function(a,b){return f.seekTo(i+a,b)},next:function(a){return f.move(e.size,a)},prev:function(a){return f.move(-e.size,a)},begin:function(a){return f.seekTo(0,a)},end:function(a){return f.seekTo(f.getSize()-1,a)},focus:function(){return d=f,f},addItem:function(b){return b=a(b),e.circular?(h.children().last().before(b),h.children().first().replaceWith(b.clone().addClass(e.clonedClass))):(h.append(b),o.removeClass("disabled")),g.trigger("onAddItem",[b]),f},seekTo:function(b,c,k){if(b.jquery||(b*=1),e.circular&&0===b&&-1==i&&0!==c)return f;if(!e.circular&&0>b||b>f.getSize()||-1>b)return f;var l=b;b.jquery?b=f.getItems().index(b):l=f.getItems().eq(b);var m=a.Event("onBeforeSeek");if(!k&&(g.trigger(m,[b,c]),m.isDefaultPrevented()||!l.length))return f;var n=j?{top:-l.position().top}:{left:-l.position().left};return i=b,d=f,void 0===c&&(c=e.speed),h.animate(n,c,e.easing,k||function(){g.trigger("onSeek",[b])}),f}}),a.each(["onBeforeSeek","onSeek","onAddItem"],function(b,c){a.isFunction(e[c])&&a(f).on(c,e[c]),f[c]=function(b){return b&&a(f).on(c,b),f}}),e.circular){var k=f.getItems().slice(-1).clone().prependTo(h),l=f.getItems().eq(1).clone().appendTo(h);k.add(l).addClass(e.clonedClass),f.onBeforeSeek(function(a,b,c){if(!a.isDefaultPrevented()){if(-1==b)return f.seekTo(k,c,function(){f.end(0)}),a.preventDefault();b==f.getSize()&&f.seekTo(l,c,function(){f.begin(0)})}});var m=b.parents().add(b).filter(function(){return"none"===a(this).css("display")?!0:void 0});m.length?(m.show(),f.seekTo(0,0,function(){}),m.hide()):f.seekTo(0,0,function(){})}var n=c(b,e.prev).click(function(a){a.stopPropagation(),f.prev()}),o=c(b,e.next).click(function(a){a.stopPropagation(),f.next()});if(e.circular||(f.onBeforeSeek(function(a,b){setTimeout(function(){a.isDefaultPrevented()||(n.toggleClass(e.disabledClass,0>=b),o.toggleClass(e.disabledClass,b>=f.getSize()-1))},1)}),e.initialIndex||n.addClass(e.disabledClass)),f.getSize()<2&&n.add(o).addClass(e.disabledClass),e.mousewheel&&a.fn.mousewheel&&b.mousewheel(function(a,b){return e.mousewheel?(f.move(0>b?1:-1,e.wheelSpeed||50),!1):void 0}),e.touch){var p={};h[0].ontouchstart=function(a){var b=a.touches[0];p.x=b.clientX,p.y=b.clientY},h[0].ontouchmove=function(a){if(1==a.touches.length&&!h.is(":animated")){var b=a.touches[0],c=p.x-b.clientX,d=p.y-b.clientY;f[j&&d>0||!j&&c>0?"next":"prev"](),a.preventDefault()}}}e.keyboard&&a(document).on("keydown.scrollable",function(b){if(!(!e.keyboard||b.altKey||b.ctrlKey||b.metaKey||a(b.target).is(":input"))){if("static"!=e.keyboard&&d!=f)return;var c=b.keyCode;if(j&&(38==c||40==c))return f.move(38==c?-1:1),b.preventDefault();if(!j&&(37==c||39==c))return f.move(37==c?-1:1),b.preventDefault()}}),e.initialIndex&&f.seekTo(e.initialIndex,0,function(){})}a.tools=a.tools||{version:"v1.2.7"},a.tools.scrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",size:1,speed:400,vertical:!1,touch:!0,wheelSpeed:0}};var d;a.fn.scrollable=function(b){var c=this.data("scrollable");return c?c:(b=a.extend({},a.tools.scrollable.conf,b),this.each(function(){c=new e(a(this),b),a(this).data("scrollable",c)}),b.api?c:this)}}(jQuery),function(a){var b=a.tools.scrollable;b.autoscroll={conf:{autoplay:!0,interval:3e3,autopause:!0}},a.fn.autoscroll=function(c){"number"==typeof c&&(c={interval:c});var e,d=a.extend({},b.autoscroll.conf,c);return this.each(function(){function h(){f&&clearTimeout(f),f=setTimeout(function(){b.next()},d.interval)}var f,b=a(this).data("scrollable"),c=b.getRoot(),g=!1;b&&(e=b),b.play=function(){f||(g=!1,c.on("onSeek",h),h())},b.pause=function(){f=clearTimeout(f),c.off("onSeek",h)},b.resume=function(){g||b.play()},b.stop=function(){g=!0,b.pause()},d.autopause&&c.add(b.getNaviButtons()).hover(b.pause,b.resume),d.autoplay&&b.play()}),d.api?e:this}}(jQuery),function(a){function c(b,c){var d=a(c);return d.length<2?d:b.parent().find(c)}var b=a.tools.scrollable;b.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:!1,idPrefix:null,history:!1}},a.fn.navigator=function(d){"string"==typeof d&&(d={navi:d}),d=a.extend({},b.navigator.conf,d);var e;return this.each(function(){function k(a,c,d){b.seekTo(c),d.preventDefault(),i&&history.pushState({i:c},"")}function l(){return f.find(d.naviItem||"> *")}function m(b){var c=a("<"+(d.naviItem||"a")+"/>").click(function(c){k(a(this),b,c)});return 0===b&&c.addClass(h),d.indexed&&c.text(b+1),d.idPrefix&&c.attr("id",d.idPrefix+b),c.appendTo(f)}var b=a(this).data("scrollable"),f=d.navi.jquery?d.navi:c(b.getRoot(),d.navi),g=b.getNaviButtons(),h=d.activeClass,i=d.history&&history.pushState,j=b.getConf().size;b&&(e=b),b.getNaviButtons=function(){return g.add(f)},i&&(history.pushState({i:0},""),a(window).on("popstate",function(a){var c=a.originalEvent.state;c&&b.seekTo(c.i)})),l().length?l().each(function(b){a(this).click(function(c){k(a(this),b,c)})}):a.each(b.getItems(),function(a){a%j==0&&m(a)}),b.onBeforeSeek(function(a,b){setTimeout(function(){if(!a.isDefaultPrevented()){var c=b/j,d=l().eq(c);d.length&&l().removeClass(h).eq(c).addClass(h)}},1)}),b.onAddItem(function(a,c){var d=b.getItems().index(c);d%j==0&&m(d)})}),d.api?e:this}}(jQuery),function(a){function e(c,d,e){var j,f=this,g=c.add(this),h=c.find(e.tabs),i=d.jquery?d:c.children(d);h.length||(h=c.children()),i.length||(i=c.parent().find(d)),i.length||(i=a(d)),a.extend(this,{click:function(d,i){var k=h.eq(d),l=!c.data("tabs");if("string"==typeof d&&d.replace("#","")&&(k=h.filter('[href*="'+d.replace("#","")+'"]'),d=Math.max(h.index(k),0)),e.rotate){var m=h.length-1;if(0>d)return f.click(m,i);if(d>m)return f.click(0,i)}if(!k.length){if(j>=0)return f;d=e.initialIndex,k=h.eq(d)}if(d===j)return f;if(i=i||a.Event(),i.type="onBeforeClick",g.trigger(i,[d]),!i.isDefaultPrevented()){var n=l?e.initialEffect&&e.effect||"default":e.effect;return b[n].call(f,d,function(){j=d,i.type="onClick",g.trigger(i,[d])}),h.removeClass(e.current),k.addClass(e.current),f}},getConf:function(){return e},getTabs:function(){return h},getPanes:function(){return i},getCurrentPane:function(){return i.eq(j)},getCurrentTab:function(){return h.eq(j)},getIndex:function(){return j},next:function(){return f.click(j+1)},prev:function(){return f.click(j-1)},destroy:function(){return h.off(e.event).removeClass(e.current),i.find('a[href^="#"]').off("click.T"),f}}),a.each("onBeforeClick,onClick".split(","),function(b,c){a.isFunction(e[c])&&a(f).on(c,e[c]),f[c]=function(b){return b&&a(f).on(c,b),f}}),e.history&&a.fn.history&&(a.tools.history.init(h),e.event="history"),h.each(function(b){a(this).on(e.event,function(a){return f.click(b,a),a.preventDefault()})}),i.find('a[href^="#"]').on("click.T",function(b){f.click(a(this).attr("href"),b)}),location.hash&&"a"==e.tabs&&c.find('[href="'+location.hash+'"]').length?f.click(location.hash):(0===e.initialIndex||e.initialIndex>0)&&f.click(e.initialIndex)}a.tools=a.tools||{version:"v1.2.7"},a.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialEffect:!1,initialIndex:0,event:"click",rotate:!1,slideUpSpeed:400,slideDownSpeed:400,history:!1},addEffect:function(a,c){b[a]=c}};var c,d,b={"default":function(a,b){this.getPanes().hide().eq(a).show(),b.call()},fade:function(a,b){var c=this.getConf(),d=c.fadeOutSpeed,e=this.getPanes();d?e.fadeOut(d):e.hide(),e.eq(a).fadeIn(c.fadeInSpeed,b)},slide:function(a,b){var c=this.getConf();this.getPanes().slideUp(c.slideUpSpeed),this.getPanes().eq(a).slideDown(c.slideDownSpeed,b)},ajax:function(a,b){this.getPanes().eq(0).load(this.getTabs().eq(a).attr("href"),b)}};a.tools.tabs.addEffect("horizontal",function(b,e){if(!c){var f=this.getPanes().eq(b),g=this.getCurrentPane();d||(d=this.getPanes().eq(0).width()),c=!0,f.show(),g.animate({width:0},{step:function(a){f.css("width",d-a)},complete:function(){a(this).hide(),e.call(),c=!1}}),g.length||(e.call(),c=!1)}}),a.fn.tabs=function(b,c){var d=this.data("tabs");return d&&(d.destroy(),this.removeData("tabs")),a.isFunction(c)&&(c={onBeforeClick:c}),c=a.extend({},a.tools.tabs.conf,c),this.each(function(){d=new e(a(this),b,c),a(this).data("tabs",d)}),c.api?d:this}}(jQuery),function(a){function c(b,c){function i(c){var d=a(c);return d.length<2?d:b.parent().find(c)}function l(){g=setTimeout(function(){f.next()},c.interval)}var g,d=this,e=b.add(this),f=b.data("tabs"),h=!0,j=i(c.next).click(function(){f.next()}),k=i(c.prev).click(function(){f.prev()});if(a.extend(d,{getTabs:function(){return f},getConf:function(){return c},play:function(){if(g)return d;var b=a.Event("onBeforePlay");return e.trigger(b),b.isDefaultPrevented()?d:(h=!1,e.trigger("onPlay"),e.on("onClick",l),l(),d)},pause:function(){if(!g)return d;var b=a.Event("onBeforePause");return e.trigger(b),b.isDefaultPrevented()?d:(g=clearTimeout(g),e.trigger("onPause"),e.off("onClick",l),d)},resume:function(){h||d.play()},stop:function(){d.pause(),h=!0}}),a.each("onBeforePlay,onPlay,onBeforePause,onPause".split(","),function(b,e){a.isFunction(c[e])&&a(d).on(e,c[e]),d[e]=function(b){return a(d).on(e,b)}}),c.autopause&&f.getTabs().add(j).add(k).add(f.getPanes()).hover(d.pause,d.resume),c.autoplay&&d.play(),c.clickable&&f.getPanes().click(function(){f.next()}),!f.getConf().rotate){var m=c.disabledClass;f.getIndex()||k.addClass(m),f.onBeforeClick(function(a,b){k.toggleClass(m,!b),j.toggleClass(m,b==f.getTabs().length-1)})}}var b;b=a.tools.tabs.slideshow={conf:{next:".forward",prev:".backward",disabledClass:"disabled",autoplay:!1,autopause:!0,interval:3e3,clickable:!0,api:!1}},a.fn.slideshow=function(d){var e=this.data("slideshow");return e?e:(d=a.extend({},b.conf,d),this.each(function(){e=new c(a(this),d),a(this).data("slideshow",e)}),d.api?e:this)}}(jQuery),function(a){function c(b,c,d){var e=d.relative?b.position().top:b.offset().top,f=d.relative?b.position().left:b.offset().left,g=d.position[0];e-=c.outerHeight()-d.offset[0],f+=b.outerWidth()+d.offset[1],/iPad/i.test(navigator.userAgent)&&(e-=a(window).scrollTop());var h=c.outerHeight()+b.outerHeight();"center"==g&&(e+=h/2),"bottom"==g&&(e+=h),g=d.position[1];var i=c.outerWidth()+b.outerWidth();return"center"==g&&(f-=i/2),"left"==g&&(f-=i),{top:e,left:f}}function d(d,e){var h,n,f=this,g=d.add(f),i=0,j=0,k=d.attr("title"),l=d.attr("data-tooltip"),m=b[e.effect],o=d.is(":input"),p=o&&d.is(":checkbox, :radio, select, :button, :submit"),q=d.attr("type"),r=e.events[q]||e.events[o?p?"widget":"input":"def"];if(!m)throw'Nonexistent effect "'+e.effect+'"';if(r=r.split(/,\s*/),2!=r.length)throw"Tooltip: bad events configuration for "+q;d.on(r[0],function(a){clearTimeout(i),e.predelay?j=setTimeout(function(){f.show(a)},e.predelay):f.show(a)}).on(r[1],function(a){clearTimeout(j),e.delay?i=setTimeout(function(){f.hide(a)},e.delay):f.hide(a)}),k&&e.cancelDefault&&(d.removeAttr("title"),d.data("title",k)),a.extend(f,{show:function(b){if(!h&&(l?h=a(l):e.tip?h=a(e.tip).eq(0):k?h=a(e.layout).addClass(e.tipClass).appendTo(document.body).hide().append(k):(h=d.next(),h.length||(h=d.parent().next())),!h.length))throw"Cannot find tooltip for "+d;if(f.isShown())return f;h.stop(!0,!0);var o=c(d,h,e);if(e.tip&&h.html(d.data("title")),b=a.Event(),b.type="onBeforeShow",g.trigger(b,[o]),b.isDefaultPrevented())return f;o=c(d,h,e),h.css({position:"absolute",top:o.top,left:o.left}),n=!0,m[0].call(f,function(){b.type="onShow",n="full",g.trigger(b)});var p=e.events.tooltip.split(/,\s*/);return h.data("__set")||(h.off(p[0]).on(p[0],function(){clearTimeout(i),clearTimeout(j)}),p[1]&&!d.is("input:not(:checkbox, :radio), textarea")&&h.off(p[1]).on(p[1],function(a){a.relatedTarget!=d[0]&&d.trigger(r[1].split(" ")[0])}),e.tip||h.data("__set",!0)),f},hide:function(c){return h&&f.isShown()?(c=a.Event(),c.type="onBeforeHide",g.trigger(c),c.isDefaultPrevented()?void 0:(n=!1,b[e.effect][1].call(f,function(){c.type="onHide",g.trigger(c)}),f)):f},isShown:function(a){return a?"full"==n:n},getConf:function(){return e},getTip:function(){return h},getTrigger:function(){return d}}),a.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(b,c){a.isFunction(e[c])&&a(f).on(c,e[c]),f[c]=function(b){return b&&a(f).on(c,b),f}})}a.tools=a.tools||{version:"v1.2.7"},a.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(a,c,d){b[a]=[c,d]}};var b={toggle:[function(a){var b=this.getConf(),c=this.getTip(),d=b.opacity;1>d&&c.css({opacity:d}),c.show(),a.call()},function(a){this.getTip().hide(),a.call()}],fade:[function(b){var c=this.getConf();!a.browser.msie||c.fadeIE?this.getTip().fadeTo(c.fadeInSpeed,c.opacity,b):(this.getTip().show(),b())},function(b){var c=this.getConf();!a.browser.msie||c.fadeIE?this.getTip().fadeOut(c.fadeOutSpeed,b):(this.getTip().hide(),b())}]};a.fn.tooltip=function(b){var c=this.data("tooltip");return c?c:(b=a.extend(!0,{},a.tools.tooltip.conf,b),"string"==typeof b.position&&(b.position=b.position.split(/,?\s/)),this.each(function(){c=new d(a(this),b),a(this).data("tooltip",c)}),b.api?c:this)}}(jQuery),function(a){function c(b){var c=a(window),d=c.width()+c.scrollLeft(),e=c.height()+c.scrollTop();return[b.offset().top<=c.scrollTop(),d<=b.offset().left+b.width(),e<=b.offset().top+b.height(),c.scrollLeft()>=b.offset().left]}function d(a){for(var b=a.length;b--;)if(a[b])return!1;return!0}var b=a.tools.tooltip;b.dynamic={conf:{classNames:"top right bottom left"}},a.fn.dynamic=function(e){"number"==typeof e&&(e={speed:e}),e=a.extend({},b.dynamic.conf,e);var h,f=a.extend(!0,{},e),g=e.classNames.split(/\s/);return this.each(function(){var b=a(this).tooltip().onBeforeShow(function(b,e){var i=this.getTip(),j=this.getConf();h||(h=[j.position[0],j.position[1],j.offset[0],j.offset[1],a.extend({},j)]),a.extend(j,h[4]),j.position=[h[0],h[1]],j.offset=[h[2],h[3]],i.css({visibility:"hidden",position:"absolute",top:e.top,left:e.left}).show();var k=a.extend(!0,{},f),l=c(i);d(l)||(l[2]&&(a.extend(j,k.top),j.position[0]="top",i.addClass(g[0])),l[3]&&(a.extend(j,k.right),j.position[1]="right",i.addClass(g[1])),l[0]&&(a.extend(j,k.bottom),j.position[0]="bottom",i.addClass(g[2])),l[1]&&(a.extend(j,k.left),j.position[1]="left",i.addClass(g[3])),(l[0]||l[2])&&(j.offset[0]*=-1),(l[1]||l[3])&&(j.offset[1]*=-1)),i.css({visibility:"visible"}).hide()});b.onBeforeShow(function(){{var a=this.getConf();this.getTip()}setTimeout(function(){a.position=[h[0],h[1]],a.offset=[h[2],h[3]]},0)}),b.onHide(function(){var a=this.getTip();a.removeClass(e.classNames)}),ret=b}),e.api?ret:this}}(jQuery),function(a){var b=a.tools.tooltip;a.extend(b.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!a.browser.msie});var c={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};b.addEffect("slide",function(a){var b=this.getConf(),d=this.getTip(),e=b.slideFade?{opacity:b.opacity}:{},f=c[b.direction]||c.up;e[f[1]]=f[0]+"="+b.slideOffset,b.slideFade&&d.css({opacity:0}),d.show().animate(e,b.slideInSpeed,a)},function(b){var d=this.getConf(),e=d.slideOffset,f=d.slideFade?{opacity:0}:{},g=c[d.direction]||c.up,h=""+g[0];d.bounce&&(h="+"==h?"-":"+"),f[g[1]]=h+"="+e,this.getTip().animate(f,d.slideOutSpeed,function(){a(this).hide(),b.call()})})}(jQuery),function($){$.widget("mjs.nestedSortable",$.extend({},$.ui.sortable.prototype,{options:{tabSize:20,disableNesting:"mjs-nestedSortable-no-nesting",errorClass:"mjs-nestedSortable-error",doNotClear:!1,listType:"ol",maxLevels:0,protectRoot:!1,rootID:null,rtl:!1,isAllowed:function(){return!0}},_create:function(){if(this.element.data("sortable",this.element.data("nestedSortable")),!this.element.is(this.options.listType))throw new Error("nestedSortable: Please check the listType option is set to your actual list type");return $.ui.sortable.prototype._create.apply(this,arguments)},destroy:function(){return this.element.removeData("nestedSortable").unbind(".nestedSortable"),$.ui.sortable.prototype.destroy.apply(this,arguments)},_mouseDrag:function(event){this.position=this._generatePosition(event),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);var o=this.options;if(this.options.scroll){var scrolled=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed:event.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed:event.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(event.pageY-$(document).scrollTop()<o.scrollSensitivity?scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed):$(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity&&(scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed)),event.pageX-$(document).scrollLeft()<o.scrollSensitivity?scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed):$(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity&&(scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed))),scrolled!==!1&&$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event)}this.positionAbs=this._convertPositionTo("absolute");var previousTopOffset=this.placeholder.offset().top;this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var i=this.items.length-1;i>=0;i--){var item=this.items[i],itemElement=item.item[0],intersection=this._intersectsWithPointer(item);if(intersection&&itemElement!=this.currentItem[0]&&this.placeholder[1==intersection?"next":"prev"]()[0]!=itemElement&&!$.contains(this.placeholder[0],itemElement)&&("semi-dynamic"==this.options.type?!$.contains(this.element[0],itemElement):!0)){if($(itemElement).mouseenter(),this.direction=1==intersection?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(item))break;$(itemElement).mouseleave(),this._rearrange(event,item),this._clearEmpty(itemElement),this._trigger("change",event,this._uiHash());break}}var parentItem=this.placeholder[0].parentNode.parentNode&&$(this.placeholder[0].parentNode.parentNode).closest(".ui-sortable").length?$(this.placeholder[0].parentNode.parentNode):null,level=this._getLevel(this.placeholder),childLevels=this._getChildLevels(this.helper),previousItem=this.placeholder[0].previousSibling?$(this.placeholder[0].previousSibling):null;if(null!=previousItem)for(;"li"!=previousItem[0].nodeName.toLowerCase()||previousItem[0]==this.currentItem[0]||previousItem[0]==this.helper[0];){if(!previousItem[0].previousSibling){previousItem=null;break}previousItem=$(previousItem[0].previousSibling)}var nextItem=this.placeholder[0].nextSibling?$(this.placeholder[0].nextSibling):null;if(null!=nextItem)for(;"li"!=nextItem[0].nodeName.toLowerCase()||nextItem[0]==this.currentItem[0]||nextItem[0]==this.helper[0];){if(!nextItem[0].nextSibling){nextItem=null;break}nextItem=$(nextItem[0].nextSibling)}var newList=document.createElement(o.listType);return this.beyondMaxLevels=0,null!=parentItem&&null==nextItem&&(o.rtl&&this.positionAbs.left+this.helper.outerWidth()>parentItem.offset().left+parentItem.outerWidth()||!o.rtl&&this.positionAbs.left<parentItem.offset().left)?(parentItem.after(this.placeholder[0]),this._clearEmpty(parentItem[0]),this._trigger("change",event,this._uiHash())):null!=previousItem&&(o.rtl&&this.positionAbs.left+this.helper.outerWidth()<previousItem.offset().left+previousItem.outerWidth()-o.tabSize||!o.rtl&&this.positionAbs.left>previousItem.offset().left+o.tabSize)?(this._isAllowed(previousItem,level,level+childLevels+1),previousItem.children(o.listType).length||previousItem[0].appendChild(newList),previousTopOffset&&previousTopOffset<=previousItem.offset().top?previousItem.children(o.listType).prepend(this.placeholder):previousItem.children(o.listType)[0].appendChild(this.placeholder[0]),this._trigger("change",event,this._uiHash())):this._isAllowed(parentItem,level,level+childLevels),this._contactContainers(event),$.ui.ddmanager&&$.ui.ddmanager.drag(this,event),this._trigger("sort",event,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(event){this.beyondMaxLevels&&(this.placeholder.removeClass(this.options.errorClass),this.domPosition.prev?$(this.domPosition.prev).after(this.placeholder):$(this.domPosition.parent).prepend(this.placeholder),this._trigger("revert",event,this._uiHash()));for(var i=this.items.length-1;i>=0;i--){var item=this.items[i].item[0];this._clearEmpty(item)}$.ui.sortable.prototype._mouseStop.apply(this,arguments)},serialize:function(options){var o=$.extend({},this.options,options),items=this._getItemsAsjQuery(o&&o.connected),str=[];return $(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||/(.+)[-=_](.+)/),pid=($(o.item||this).parent(o.listType).parent(o.items).attr(o.attribute||"id")||"").match(o.expression||/(.+)[-=_](.+)/);res&&str.push((o.key||res[1])+"["+(o.key&&o.expression?res[1]:res[2])+"]="+(pid?o.key&&o.expression?pid[1]:pid[2]:o.rootID))}),!str.length&&o.key&&str.push(o.key+"="),str.join("&")},toHierarchy:function(options){function _recursiveItems(item){var id=($(item).attr(o.attribute||"id")||"").match(o.expression||/(.+)[-=_](.+)/);if(id){var currentItem={id:id[2]};return $(item).children(o.listType).children(o.items).length>0&&(currentItem.children=[],$(item).children(o.listType).children(o.items).each(function(){var level=_recursiveItems(this);currentItem.children.push(level)})),currentItem}}var o=$.extend({},this.options,options),ret=(o.startDepthCount||0,[]);return $(this.element).children(o.items).each(function(){var level=_recursiveItems(this);ret.push(level)}),ret},toArray:function(options){function _recursiveArray(item,depth,left){var id,pid,right=left+1;if($(item).children(o.listType).children(o.items).length>0&&(depth++,$(item).children(o.listType).children(o.items).each(function(){right=_recursiveArray($(this),depth,right)}),depth--),id=$(item).attr(o.attribute||"id").match(o.expression||/(.+)[-=_](.+)/),depth===sDepth+1)pid=o.rootID;else{var parentItem=$(item).parent(o.listType).parent(o.items).attr(o.attribute||"id").match(o.expression||/(.+)[-=_](.+)/);pid=parentItem[2]}return id&&ret.push({item_id:id[2],parent_id:pid,depth:depth,left:left,right:right}),left=right+1}var o=$.extend({},this.options,options),sDepth=o.startDepthCount||0,ret=[],left=2;return ret.push({item_id:o.rootID,parent_id:"none",depth:sDepth,left:"1",right:2*($(o.items,this.element).length+1)}),$(this.element).children(o.items).each(function(){left=_recursiveArray(this,sDepth+1,left)}),ret=ret.sort(function(a,b){return a.left-b.left})},_clearEmpty:function(item){var emptyList=$(item).children(this.options.listType);!emptyList.length||emptyList.children().length||this.options.doNotClear||emptyList.remove()},_getLevel:function(item){var level=1;if(this.options.listType)for(var list=item.closest(this.options.listType);list&&list.length>0&&!list.is(".ui-sortable");)level++,list=list.parent().closest(this.options.listType);return level},_getChildLevels:function(parent,depth){var self=this,o=this.options,result=0;return depth=depth||0,$(parent).children(o.listType).children(o.items).each(function(index,child){result=Math.max(self._getChildLevels(child,depth+1),result)}),depth?result+1:result},_isAllowed:function(parentItem,level,levels){var o=this.options,isRoot=$(this.domPosition.parent).hasClass("ui-sortable")?!0:!1,maxLevels=this.placeholder.closest(".ui-sortable").nestedSortable("option","maxLevels");!o.isAllowed(this.currentItem,parentItem)||parentItem&&parentItem.hasClass(o.disableNesting)||o.protectRoot&&(null==parentItem&&!isRoot||isRoot&&level>1)?(this.placeholder.addClass(o.errorClass),this.beyondMaxLevels=levels>maxLevels&&0!=maxLevels?levels-maxLevels:1):levels>maxLevels&&0!=maxLevels?(this.placeholder.addClass(o.errorClass),this.beyondMaxLevels=levels-maxLevels):(this.placeholder.removeClass(o.errorClass),this.beyondMaxLevels=0)}})),$.mjs.nestedSortable.prototype.options=$.extend({},$.ui.sortable.prototype.options,$.mjs.nestedSortable.prototype.options)}(jQuery),function($){if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.4"}});var Timepicker=function(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",defaultValue:null,parse:"strict"},$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(settings){return extendRemove(this._defaults,settings||{}),this
},_newInst:function($input,opts){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}overrides={beforeShow:function(input,dp_inst){return $.isFunction(tp_inst._defaults.evnts.beforeShow)?tp_inst._defaults.evnts.beforeShow.call($input[0],input,dp_inst,tp_inst):void 0},onChangeMonthYear:function(year,month,dp_inst){tp_inst._updateDateTime(dp_inst),$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],year,month,dp_inst,tp_inst)},onClose:function(dateText,dp_inst){tp_inst.timeDefined===!0&&""!==$input.val()&&tp_inst._updateDateTime(dp_inst),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],dateText,dp_inst,tp_inst)}};for(i in overrides)overrides.hasOwnProperty(i)&&(fns[i]=opts[i]||null);tp_inst._defaults=$.extend({},this._defaults,inlineSettings,opts,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(val){return val.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(val){return val.toUpperCase()}),tp_inst.support=detectSupport(tp_inst._defaults.timeFormat+(tp_inst._defaults.pickerTimeFormat?tp_inst._defaults.pickerTimeFormat:"")+(tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:"")),"string"==typeof tp_inst._defaults.controlType?("slider"===tp_inst._defaults.controlType&&"undefined"==typeof $.ui.slider&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType;var timezoneList=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];null!==tp_inst._defaults.timezoneList&&(timezoneList=tp_inst._defaults.timezoneList);var tzl=timezoneList.length,tzi=0,tzv=null;if(tzl>0&&"object"!=typeof timezoneList[0])for(;tzl>tzi;tzi++)tzv=timezoneList[tzi],timezoneList[tzi]={value:tzv,label:$.timepicker.timezoneOffsetString(tzv,tp_inst.support.iso8601)};return tp_inst._defaults.timezoneList=timezoneList,tp_inst.timezone=null!==tp_inst._defaults.timezone?$.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone):-1*(new Date).getTimezoneOffset(),tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec,tp_inst.microsec=tp_inst._defaults.microsec<tp_inst._defaults.microsecMin?tp_inst._defaults.microsecMin:tp_inst._defaults.microsec>tp_inst._defaults.microsecMax?tp_inst._defaults.microsecMax:tp_inst._defaults.microsec,tp_inst.ampm="",tp_inst.$input=$input,tp_inst._defaults.altField&&(tp_inst.$altInput=$(tp_inst._defaults.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),(0===tp_inst._defaults.minDate||0===tp_inst._defaults.minDateTime)&&(tp_inst._defaults.minDate=new Date),(0===tp_inst._defaults.maxDate||0===tp_inst._defaults.maxDateTime)&&(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",function(){tp_inst._onFocus()}),tp_inst},_addTimePicker:function(dp_inst){var currDT=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(currDT),this._limitMinMaxDateTime(dp_inst,!1),this._injectTimePicker()},_parseTime:function(timeString,withDate){if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),withDate||!this._defaults.timeOnly){var dp_dateFormat=$.datepicker._get(this.inst,"dateFormat");try{var parseRes=parseDateTimeInternal(dp_dateFormat,this._defaults.timeFormat,timeString,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!parseRes.timeObj)return!1;$.extend(this,parseRes.timeObj)}catch(err){return $.timepicker.log("Error parsing the date/time string: "+err+"\ndate/time string = "+timeString+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+dp_dateFormat),!1}return!0}var timeObj=$.datepicker.parseTime(this._defaults.timeFormat,timeString,this._defaults);return timeObj?($.extend(this,timeObj),!0):!1},_injectTimePicker:function(){var $dp=this.inst.dpDiv,o=this.inst.settings,tp_inst=this,litem="",uitem="",show=null,max={},gridSize={},size=null,i=0,l=0;if(0===$dp.find("div.ui-timepicker-div").length&&o.showTimepicker){var noDisplay=' style="display:none;"',html='<div class="ui-timepicker-div'+(o.isRTL?" ui-timepicker-rtl":"")+'"><dl><dt class="ui_tpicker_time_label"'+(o.showTime?"":noDisplay)+">"+o.timeText+'</dt><dd class="ui_tpicker_time"'+(o.showTime?"":noDisplay)+"></dd>";for(i=0,l=this.units.length;l>i;i++){if(litem=this.units[i],uitem=litem.substr(0,1).toUpperCase()+litem.substr(1),show=null!==o["show"+uitem]?o["show"+uitem]:this.support[litem],max[litem]=parseInt(o[litem+"Max"]-(o[litem+"Max"]-o[litem+"Min"])%o["step"+uitem],10),gridSize[litem]=0,html+='<dt class="ui_tpicker_'+litem+'_label"'+(show?"":noDisplay)+">"+o[litem+"Text"]+'</dt><dd class="ui_tpicker_'+litem+'"><div class="ui_tpicker_'+litem+'_slider"'+(show?"":noDisplay)+"></div>",show&&o[litem+"Grid"]>0){if(html+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',"hour"===litem)for(var h=o[litem+"Min"];h<=max[litem];h+=parseInt(o[litem+"Grid"],10)){gridSize[litem]++;var tmph=$.datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:h},o);html+='<td data-for="'+litem+'">'+tmph+"</td>"}else for(var m=o[litem+"Min"];m<=max[litem];m+=parseInt(o[litem+"Grid"],10))gridSize[litem]++,html+='<td data-for="'+litem+'">'+(10>m?"0":"")+m+"</td>";html+="</tr></table></div>"}html+="</dd>"}var showTz=null!==o.showTimezone?o.showTimezone:this.support.timezone;html+='<dt class="ui_tpicker_timezone_label"'+(showTz?"":noDisplay)+">"+o.timezoneText+"</dt>",html+='<dd class="ui_tpicker_timezone" '+(showTz?"":noDisplay)+"></dd>",html+="</dl></div>";var $tp=$(html);for(o.timeOnly===!0&&($tp.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+o.timeOnlyTitle+"</div></div>"),$dp.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),i=0,l=tp_inst.units.length;l>i;i++)litem=tp_inst.units[i],uitem=litem.substr(0,1).toUpperCase()+litem.substr(1),show=null!==o["show"+uitem]?o["show"+uitem]:this.support[litem],tp_inst[litem+"_slider"]=tp_inst.control.create(tp_inst,$tp.find(".ui_tpicker_"+litem+"_slider"),litem,tp_inst[litem],o[litem+"Min"],max[litem],o["step"+uitem]),show&&o[litem+"Grid"]>0&&(size=100*gridSize[litem]*o[litem+"Grid"]/(max[litem]-o[litem+"Min"]),$tp.find(".ui_tpicker_"+litem+" table").css({width:size+"%",marginLeft:o.isRTL?"0":size/(-2*gridSize[litem])+"%",marginRight:o.isRTL?size/(-2*gridSize[litem])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(){var $t=$(this),h=$t.html(),n=parseInt(h.replace(/[^0-9]/g),10),ap=h.replace(/[^apm]/gi),f=$t.data("for");"hour"===f&&(-1!==ap.indexOf("p")&&12>n?n+=12:-1!==ap.indexOf("a")&&12===n&&(n=0)),tp_inst.control.value(tp_inst,tp_inst[f+"_slider"],litem,n),tp_inst._onTimeChange(),tp_inst._onSelectHandler()}).css({cursor:"pointer",width:100/gridSize[litem]+"%",textAlign:"center",overflow:"hidden"}));if(this.timezone_select=$tp.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(o.timezoneList,function(val){return $("<option />").val("object"==typeof val?val.value:val).text("object"==typeof val?val.label:val)})),"undefined"!=typeof this.timezone&&null!==this.timezone&&""!==this.timezone){var local_timezone=-1*new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset();local_timezone===this.timezone?selectLocalTimezone(tp_inst):this.timezone_select.val(this.timezone)}else"undefined"!=typeof this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(o.timezone):selectLocalTimezone(tp_inst);this.timezone_select.change(function(){tp_inst._onTimeChange(),tp_inst._onSelectHandler()});var $buttonPanel=$dp.find(".ui-datepicker-buttonpane");if($buttonPanel.length?$buttonPanel.before($tp):$dp.append($tp),this.$timeObj=$tp.find(".ui_tpicker_time"),null!==this.inst){var timeDefined=this.timeDefined;this._onTimeChange(),this.timeDefined=timeDefined}if(this._defaults.addSliderAccess){var sliderAccessArgs=this._defaults.sliderAccessArgs,rtl=this._defaults.isRTL;sliderAccessArgs.isRTL=rtl,setTimeout(function(){if(0===$tp.find(".ui-slider-access").length){$tp.find(".ui-slider:visible").sliderAccess(sliderAccessArgs);var sliderAccessWidth=$tp.find(".ui-slider-access:eq(0)").outerWidth(!0);sliderAccessWidth&&$tp.find("table:visible").each(function(){var $g=$(this),oldWidth=$g.outerWidth(),oldMarginLeft=$g.css(rtl?"marginRight":"marginLeft").toString().replace("%",""),newWidth=oldWidth-sliderAccessWidth,newMarginLeft=oldMarginLeft*newWidth/oldWidth+"%",css={width:newWidth,marginRight:0,marginLeft:0};css[rtl?"marginRight":"marginLeft"]=newMarginLeft,$g.css(css)})}},10)}tp_inst._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(dp_inst,adjustSliders){var o=this._defaults,dp_date=new Date(dp_inst.selectedYear,dp_inst.selectedMonth,dp_inst.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(dp_inst,"minDateTime")&&void 0!==$.datepicker._get(dp_inst,"minDateTime")&&dp_date){var minDateTime=$.datepicker._get(dp_inst,"minDateTime"),minDateTimeDate=new Date(minDateTime.getFullYear(),minDateTime.getMonth(),minDateTime.getDate(),0,0,0,0);(null===this.hourMinOriginal||null===this.minuteMinOriginal||null===this.secondMinOriginal||null===this.millisecMinOriginal||null===this.microsecMinOriginal)&&(this.hourMinOriginal=o.hourMin,this.minuteMinOriginal=o.minuteMin,this.secondMinOriginal=o.secondMin,this.millisecMinOriginal=o.millisecMin,this.microsecMinOriginal=o.microsecMin),dp_inst.settings.timeOnly||minDateTimeDate.getTime()===dp_date.getTime()?(this._defaults.hourMin=minDateTime.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=minDateTime.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=minDateTime.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=minDateTime.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=minDateTime.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)}if(null!==$.datepicker._get(dp_inst,"maxDateTime")&&void 0!==$.datepicker._get(dp_inst,"maxDateTime")&&dp_date){var maxDateTime=$.datepicker._get(dp_inst,"maxDateTime"),maxDateTimeDate=new Date(maxDateTime.getFullYear(),maxDateTime.getMonth(),maxDateTime.getDate(),0,0,0,0);(null===this.hourMaxOriginal||null===this.minuteMaxOriginal||null===this.secondMaxOriginal||null===this.millisecMaxOriginal)&&(this.hourMaxOriginal=o.hourMax,this.minuteMaxOriginal=o.minuteMax,this.secondMaxOriginal=o.secondMax,this.millisecMaxOriginal=o.millisecMax,this.microsecMaxOriginal=o.microsecMax),dp_inst.settings.timeOnly||maxDateTimeDate.getTime()===dp_date.getTime()?(this._defaults.hourMax=maxDateTime.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=maxDateTime.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=maxDateTime.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=maxDateTime.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=maxDateTime.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)}if(void 0!==adjustSliders&&adjustSliders===!0){var hourMax=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),minMax=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),secMax=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),millisecMax=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),microsecMax=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:hourMax}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:minMax}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:secMax}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:millisecMax}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:microsecMax}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))}}},_onTimeChange:function(){if(this._defaults.showTimepicker){var hour=this.hour_slider?this.control.value(this,this.hour_slider,"hour"):!1,minute=this.minute_slider?this.control.value(this,this.minute_slider,"minute"):!1,second=this.second_slider?this.control.value(this,this.second_slider,"second"):!1,millisec=this.millisec_slider?this.control.value(this,this.millisec_slider,"millisec"):!1,microsec=this.microsec_slider?this.control.value(this,this.microsec_slider,"microsec"):!1,timezone=this.timezone_select?this.timezone_select.val():!1,o=this._defaults,pickerTimeFormat=o.pickerTimeFormat||o.timeFormat,pickerTimeSuffix=o.pickerTimeSuffix||o.timeSuffix;"object"==typeof hour&&(hour=!1),"object"==typeof minute&&(minute=!1),"object"==typeof second&&(second=!1),"object"==typeof millisec&&(millisec=!1),"object"==typeof microsec&&(microsec=!1),"object"==typeof timezone&&(timezone=!1),hour!==!1&&(hour=parseInt(hour,10)),minute!==!1&&(minute=parseInt(minute,10)),second!==!1&&(second=parseInt(second,10)),millisec!==!1&&(millisec=parseInt(millisec,10)),microsec!==!1&&(microsec=parseInt(microsec,10));var ampm=o[12>hour?"amNames":"pmNames"][0],hasChanged=hour!==this.hour||minute!==this.minute||second!==this.second||millisec!==this.millisec||microsec!==this.microsec||this.ampm.length>0&&12>hour!=(-1!==$.inArray(this.ampm.toUpperCase(),this.amNames))||null!==this.timezone&&timezone!==this.timezone;hasChanged&&(hour!==!1&&(this.hour=hour),minute!==!1&&(this.minute=minute),second!==!1&&(this.second=second),millisec!==!1&&(this.millisec=millisec),microsec!==!1&&(this.microsec=microsec),timezone!==!1&&(this.timezone=timezone),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=ampm),this.formattedTime=$.datepicker.formatTime(o.timeFormat,this,o),this.$timeObj&&this.$timeObj.text(pickerTimeFormat===o.timeFormat?this.formattedTime+pickerTimeSuffix:$.datepicker.formatTime(pickerTimeFormat,this,o)+pickerTimeSuffix),this.timeDefined=!0,hasChanged&&this._updateDateTime()}},_onSelectHandler:function(){var onSelect=this._defaults.onSelect||this.inst.settings.onSelect,inputEl=this.$input?this.$input[0]:null;onSelect&&inputEl&&onSelect.apply(inputEl,[this.formattedDateTime,this])},_updateDateTime:function(dp_inst){dp_inst=this.inst||dp_inst;var dtTmp=dp_inst.currentYear>0?new Date(dp_inst.currentYear,dp_inst.currentMonth,dp_inst.currentDay):new Date(dp_inst.selectedYear,dp_inst.selectedMonth,dp_inst.selectedDay),dt=$.datepicker._daylightSavingAdjust(dtTmp),dateFmt=$.datepicker._get(dp_inst,"dateFormat"),formatCfg=$.datepicker._getFormatConfig(dp_inst),timeAvailable=null!==dt&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(dateFmt,null===dt?new Date:dt,formatCfg);var formattedDateTime=this.formattedDate;if(""===dp_inst.lastVa&&(dp_inst.currentYear=dp_inst.selectedYear,dp_inst.currentMonth=dp_inst.selectedMonth,dp_inst.currentDay=dp_inst.selectedDay),this._defaults.timeOnly===!0?formattedDateTime=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||timeAvailable)&&(formattedDateTime+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=formattedDateTime,this._defaults.showTimepicker)if(this.$altInput&&this._defaults.timeOnly===!1&&this._defaults.altFieldTimeOnly===!0)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(formattedDateTime);var altFormattedDateTime="",altSeparator=this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,altTimeSuffix=this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;this._defaults.timeOnly||(altFormattedDateTime=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,null===dt?new Date:dt,formatCfg):this.formattedDate,altFormattedDateTime&&(altFormattedDateTime+=altSeparator)),altFormattedDateTime+=this._defaults.altTimeFormat?$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+altTimeSuffix:this.formattedTime+altTimeSuffix,this.$altInput.val(altFormattedDateTime)}else this.$input.val(formattedDateTime);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var inst=$.datepicker._getInst(this.$input.get(0)),tp_inst=$.datepicker._get(inst,"timepicker");if(tp_inst&&tp_inst._defaults.timeOnly&&inst.input.val()!==inst.lastVal)try{$.datepicker._updateDatepicker(inst)}catch(err){$.timepicker.log(err)}}},_controls:{slider:{create:function(tp_inst,obj,unit,val,min,max,step){var rtl=tp_inst._defaults.isRTL;return obj.prop("slide",null).slider({orientation:"horizontal",value:rtl?-1*val:val,min:rtl?-1*max:min,max:rtl?-1*min:max,step:step,slide:function(event,ui){tp_inst.control.value(tp_inst,$(this),unit,rtl?-1*ui.value:ui.value),tp_inst._onTimeChange()},stop:function(){tp_inst._onSelectHandler()}})},options:function(tp_inst,obj,unit,opts,val){if(tp_inst._defaults.isRTL){if("string"==typeof opts)return"min"===opts||"max"===opts?void 0!==val?obj.slider(opts,-1*val):Math.abs(obj.slider(opts)):obj.slider(opts);var min=opts.min,max=opts.max;return opts.min=opts.max=null,void 0!==min&&(opts.max=-1*min),void 0!==max&&(opts.min=-1*max),obj.slider(opts)}return"string"==typeof opts&&void 0!==val?obj.slider(opts,val):obj.slider(opts)},value:function(tp_inst,obj,unit,val){return tp_inst._defaults.isRTL?void 0!==val?obj.slider("value",-1*val):Math.abs(obj.slider("value")):void 0!==val?obj.slider("value",val):obj.slider("value")}},select:{create:function(tp_inst,obj,unit,val,min,max,step){for(var sel='<select class="ui-timepicker-select" data-unit="'+unit+'" data-min="'+min+'" data-max="'+max+'" data-step="'+step+'">',format=tp_inst._defaults.pickerTimeFormat||tp_inst._defaults.timeFormat,i=min;max>=i;i+=step)sel+='<option value="'+i+'"'+(i===val?" selected":"")+">",sel+="hour"===unit?$.datepicker.formatTime($.trim(format.replace(/[^ht ]/gi,"")),{hour:i},tp_inst._defaults):"millisec"===unit||"microsec"===unit||i>=10?i:"0"+i.toString(),sel+="</option>";return sel+="</select>",obj.children("select").remove(),$(sel).appendTo(obj).change(function(){tp_inst._onTimeChange(),tp_inst._onSelectHandler()}),obj},options:function(tp_inst,obj,unit,opts,val){var o={},$t=obj.children("select");if("string"==typeof opts){if(void 0===val)return $t.data(opts);o[opts]=val}else o=opts;return tp_inst.control.create(tp_inst,obj,$t.data("unit"),$t.val(),o.min||$t.data("min"),o.max||$t.data("max"),o.step||$t.data("step"))},value:function(tp_inst,obj,unit,val){var $t=obj.children("select");return void 0!==val?$t.val(val):$t.val()}}}}),$.fn.extend({timepicker:function(o){o=o||{};var tmp_args=Array.prototype.slice.call(arguments);return"object"==typeof o&&(tmp_args[0]=$.extend(o,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),tmp_args)})},datetimepicker:function(o){o=o||{};var tmp_args=arguments;return"string"==typeof o?"getDate"===o?$.fn.datepicker.apply($(this[0]),tmp_args):this.each(function(){var $t=$(this);$t.datepicker.apply($t,tmp_args)}):this.each(function(){var $t=$(this);$t.datepicker($.timepicker._newInst($t,o)._defaults)})}}),$.datepicker.parseDateTime=function(dateFormat,timeFormat,dateTimeString,dateSettings,timeSettings){var parseRes=parseDateTimeInternal(dateFormat,timeFormat,dateTimeString,dateSettings,timeSettings);if(parseRes.timeObj){var t=parseRes.timeObj;parseRes.date.setHours(t.hour,t.minute,t.second,t.millisec),parseRes.date.setMicroseconds(t.microsec)}return parseRes.date},$.datepicker.parseTime=function(timeFormat,timeString,options){var o=extendRemove(extendRemove({},$.timepicker._defaults),options||{}),strictParse=(-1!==timeFormat.replace(/\'.*?\'/g,"").indexOf("Z"),function(f,s,o){var treg,getPatternAmpm=function(amNames,pmNames){var markers=[];return amNames&&$.merge(markers,amNames),pmNames&&$.merge(markers,pmNames),markers=$.map(markers,function(val){return val.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+markers.join("|")+")?"},getFormatPositions=function(timeFormat){var finds=timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),orders={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(finds)for(var i=0;i<finds.length;i++)-1===orders[finds[i].toString().charAt(0)]&&(orders[finds[i].toString().charAt(0)]=i+1);return orders},regstr="^"+f.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(match){var ml=match.length;switch(match.charAt(0).toLowerCase()){case"h":return 1===ml?"(\\d?\\d)":"(\\d{"+ml+"})";case"m":return 1===ml?"(\\d?\\d)":"(\\d{"+ml+"})";case"s":return 1===ml?"(\\d?\\d)":"(\\d{"+ml+"})";case"l":return"(\\d?\\d?\\d)";case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return getPatternAmpm(o.amNames,o.pmNames);default:return"("+match.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(m){return"\\"+m})+")?"}}).replace(/\s/g,"\\s?")+o.timeSuffix+"$",order=getFormatPositions(f),ampm="";treg=s.match(new RegExp(regstr,"i"));var resTime={hour:0,minute:0,second:0,millisec:0,microsec:0};return treg?(-1!==order.t&&(void 0===treg[order.t]||0===treg[order.t].length?(ampm="",resTime.ampm=""):(ampm=-1!==$.inArray(treg[order.t].toUpperCase(),o.amNames)?"AM":"PM",resTime.ampm=o["AM"===ampm?"amNames":"pmNames"][0])),-1!==order.h&&(resTime.hour="AM"===ampm&&"12"===treg[order.h]?0:"PM"===ampm&&"12"!==treg[order.h]?parseInt(treg[order.h],10)+12:Number(treg[order.h])),-1!==order.m&&(resTime.minute=Number(treg[order.m])),-1!==order.s&&(resTime.second=Number(treg[order.s])),-1!==order.l&&(resTime.millisec=Number(treg[order.l])),-1!==order.c&&(resTime.microsec=Number(treg[order.c])),-1!==order.z&&void 0!==treg[order.z]&&(resTime.timezone=$.timepicker.timezoneOffsetNumber(treg[order.z])),resTime):!1}),looseParse=function(f,s,o){try{var d=new Date("2012-01-01 "+s);if(isNaN(d.getTime())&&(d=new Date("2012-01-01T"+s),isNaN(d.getTime())&&(d=new Date("01/01/2012 "+s),isNaN(d.getTime()))))throw"Unable to parse time with native Date: "+s;return{hour:d.getHours(),minute:d.getMinutes(),second:d.getSeconds(),millisec:d.getMilliseconds(),microsec:d.getMicroseconds(),timezone:-1*d.getTimezoneOffset()}}catch(err){try{return strictParse(f,s,o)}catch(err2){$.timepicker.log("Unable to parse \ntimeString: "+s+"\ntimeFormat: "+f)}}return!1};return"function"==typeof o.parse?o.parse(timeFormat,timeString,o):"loose"===o.parse?looseParse(timeFormat,timeString,o):strictParse(timeFormat,timeString,o)},$.datepicker.formatTime=function(format,time,options){options=options||{},options=$.extend({},$.timepicker._defaults,options),time=$.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},time);var tmptime=format,ampmName=options.amNames[0],hour=parseInt(time.hour,10);return hour>11&&(ampmName=options.pmNames[0]),tmptime=tmptime.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(match){switch(match){case"HH":return("0"+hour).slice(-2);case"H":return hour;case"hh":return("0"+convert24to12(hour)).slice(-2);case"h":return convert24to12(hour);case"mm":return("0"+time.minute).slice(-2);case"m":return time.minute;case"ss":return("0"+time.second).slice(-2);case"s":return time.second;case"l":return("00"+time.millisec).slice(-3);case"c":return("00"+time.microsec).slice(-3);case"z":return $.timepicker.timezoneOffsetString(null===time.timezone?options.timezone:time.timezone,!1);case"Z":return $.timepicker.timezoneOffsetString(null===time.timezone?options.timezone:time.timezone,!0);case"T":return ampmName.charAt(0).toUpperCase();case"TT":return ampmName.toUpperCase();case"t":return ampmName.charAt(0).toLowerCase();case"tt":return ampmName.toLowerCase();default:return match.replace(/'/g,"")}})},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(id,dateStr){var inst=this._getInst($(id)[0]),tp_inst=this._get(inst,"timepicker");tp_inst?(tp_inst._limitMinMaxDateTime(inst,!0),inst.inline=inst.stay_open=!0,this._base_selectDate(id,dateStr),inst.inline=inst.stay_open=!1,this._notifyChange(inst),this._updateDatepicker(inst)):this._base_selectDate(id,dateStr)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(inst){var input=inst.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!==inst&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!==input||"boolean"==typeof inst.stay_open&&inst.stay_open!==!1)){this._base_updateDatepicker(inst);var tp_inst=this._get(inst,"timepicker");tp_inst&&tp_inst._addTimePicker(inst)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(event){var inst=$.datepicker._getInst(event.target),tp_inst=$.datepicker._get(inst,"timepicker");if(tp_inst&&$.datepicker._get(inst,"constrainInput")){var ampm=tp_inst.support.ampm,tz=null!==tp_inst._defaults.showTimezone?tp_inst._defaults.showTimezone:tp_inst.support.timezone,dateChars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat")),datetimeChars=tp_inst._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,ampm?"APM":"").replace(/Tt/g,ampm?"AaPpMm":"").replace(/tT/g,ampm?"AaPpMm":"").replace(/T/g,ampm?"AP":"").replace(/tt/g,ampm?"apm":"").replace(/t/g,ampm?"ap":"")+" "+tp_inst._defaults.separator+tp_inst._defaults.timeSuffix+(tz?tp_inst._defaults.timezoneList.join(""):"")+tp_inst._defaults.amNames.join("")+tp_inst._defaults.pmNames.join("")+dateChars,chr=String.fromCharCode(void 0===event.charCode?event.keyCode:event.charCode);return event.ctrlKey||" ">chr||!dateChars||datetimeChars.indexOf(chr)>-1}return $.datepicker._base_doKeyPress(event)},$.datepicker._base_updateAlternate=$.datepicker._updateAlternate,$.datepicker._updateAlternate=function(inst){var tp_inst=this._get(inst,"timepicker");if(tp_inst){var altField=tp_inst._defaults.altField;if(altField){var date=(tp_inst._defaults.altFormat||tp_inst._defaults.dateFormat,this._getDate(inst)),formatCfg=$.datepicker._getFormatConfig(inst),altFormattedDateTime="",altSeparator=tp_inst._defaults.altSeparator?tp_inst._defaults.altSeparator:tp_inst._defaults.separator,altTimeSuffix=tp_inst._defaults.altTimeSuffix?tp_inst._defaults.altTimeSuffix:tp_inst._defaults.timeSuffix,altTimeFormat=null!==tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:tp_inst._defaults.timeFormat;altFormattedDateTime+=$.datepicker.formatTime(altTimeFormat,tp_inst,tp_inst._defaults)+altTimeSuffix,tp_inst._defaults.timeOnly||tp_inst._defaults.altFieldTimeOnly||null===date||(altFormattedDateTime=tp_inst._defaults.altFormat?$.datepicker.formatDate(tp_inst._defaults.altFormat,date,formatCfg)+altSeparator+altFormattedDateTime:tp_inst.formattedDate+altSeparator+altFormattedDateTime),$(altField).val(altFormattedDateTime)}}else $.datepicker._base_updateAlternate(inst)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(event){var inst=$.datepicker._getInst(event.target),tp_inst=$.datepicker._get(inst,"timepicker");if(tp_inst&&tp_inst._defaults.timeOnly&&inst.input.val()!==inst.lastVal)try{$.datepicker._updateDatepicker(inst)}catch(err){$.timepicker.log(err)}return $.datepicker._base_doKeyUp(event)
},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(id){var inst=this._getInst($(id)[0]),$dp=inst.dpDiv;this._base_gotoToday(id);var tp_inst=this._get(inst,"timepicker");selectLocalTimezone(tp_inst);var now=new Date;this._setTime(inst,now),$(".ui-datepicker-today",$dp).click()},$.datepicker._disableTimepickerDatepicker=function(target){var inst=this._getInst(target);if(inst){var tp_inst=this._get(inst,"timepicker");$(target).datepicker("getDate"),tp_inst&&(inst.settings.showTimepicker=!1,tp_inst._defaults.showTimepicker=!1,tp_inst._updateDateTime(inst))}},$.datepicker._enableTimepickerDatepicker=function(target){var inst=this._getInst(target);if(inst){var tp_inst=this._get(inst,"timepicker");$(target).datepicker("getDate"),tp_inst&&(inst.settings.showTimepicker=!0,tp_inst._defaults.showTimepicker=!0,tp_inst._addTimePicker(inst),tp_inst._updateDateTime(inst))}},$.datepicker._setTime=function(inst,date){var tp_inst=this._get(inst,"timepicker");if(tp_inst){var defaults=tp_inst._defaults;tp_inst.hour=date?date.getHours():defaults.hour,tp_inst.minute=date?date.getMinutes():defaults.minute,tp_inst.second=date?date.getSeconds():defaults.second,tp_inst.millisec=date?date.getMilliseconds():defaults.millisec,tp_inst.microsec=date?date.getMicroseconds():defaults.microsec,tp_inst._limitMinMaxDateTime(inst,!0),tp_inst._onTimeChange(),tp_inst._updateDateTime(inst)}},$.datepicker._setTimeDatepicker=function(target,date,withDate){var inst=this._getInst(target);if(inst){var tp_inst=this._get(inst,"timepicker");if(tp_inst){this._setDateFromField(inst);var tp_date;date&&("string"==typeof date?(tp_inst._parseTime(date,withDate),tp_date=new Date,tp_date.setHours(tp_inst.hour,tp_inst.minute,tp_inst.second,tp_inst.millisec),tp_date.setMicroseconds(tp_inst.microsec)):(tp_date=new Date(date.getTime()),tp_date.setMicroseconds(date.getMicroseconds())),"Invalid Date"===tp_date.toString()&&(tp_date=void 0),this._setTime(inst,tp_date))}}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(target,date){var inst=this._getInst(target);if(inst){"string"==typeof date&&(date=new Date(date),date.getTime()||$.timepicker.log("Error creating Date object from string."));var tp_date,tp_inst=this._get(inst,"timepicker");date instanceof Date?(tp_date=new Date(date.getTime()),tp_date.setMicroseconds(date.getMicroseconds())):tp_date=date,tp_inst&&(tp_inst.support.timezone||null!==tp_inst._defaults.timezone||(tp_inst.timezone=-1*tp_date.getTimezoneOffset()),date=$.timepicker.timezoneAdjust(date,tp_inst.timezone),tp_date=$.timepicker.timezoneAdjust(tp_date,tp_inst.timezone)),this._updateDatepicker(inst),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(target,tp_date,!0)}},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(target,noDefault){var inst=this._getInst(target);if(inst){var tp_inst=this._get(inst,"timepicker");if(tp_inst){void 0===inst.lastVal&&this._setDateFromField(inst,noDefault);var date=this._getDate(inst);return date&&tp_inst._parseTime($(target).val(),tp_inst.timeOnly)&&(date.setHours(tp_inst.hour,tp_inst.minute,tp_inst.second,tp_inst.millisec),date.setMicroseconds(tp_inst.microsec),null!=tp_inst.timezone&&(tp_inst.support.timezone||null!==tp_inst._defaults.timezone||(tp_inst.timezone=-1*date.getTimezoneOffset()),date=$.timepicker.timezoneAdjust(date,tp_inst.timezone))),date}return this._base_getDateDatepicker(target,noDefault)}},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(format,value,settings){var date;try{date=this._base_parseDate(format,value,settings)}catch(err){if(!(err.indexOf(":")>=0))throw err;date=this._base_parseDate(format,value.substring(0,value.length-(err.length-err.indexOf(":")-2)),settings),$.timepicker.log("Error parsing the date string: "+err+"\ndate string = "+value+"\ndate format = "+format)}return date},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(inst){var tp_inst=this._get(inst,"timepicker");return tp_inst?(tp_inst._updateDateTime(inst),tp_inst.$input.val()):this._base_formatDate(inst)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(target,name,value){var name_clone,inst=this._getInst(target);if(!inst)return null;var tp_inst=this._get(inst,"timepicker");if(tp_inst){var prop,min=null,max=null,onselect=null,overrides=tp_inst._defaults.evnts,fns={};if("string"==typeof name){if("minDate"===name||"minDateTime"===name)min=value;else if("maxDate"===name||"maxDateTime"===name)max=value;else if("onSelect"===name)onselect=value;else if(overrides.hasOwnProperty(name)){if("undefined"==typeof value)return overrides[name];fns[name]=value,name_clone={}}}else if("object"==typeof name){name.minDate?min=name.minDate:name.minDateTime?min=name.minDateTime:name.maxDate?max=name.maxDate:name.maxDateTime&&(max=name.maxDateTime);for(prop in overrides)overrides.hasOwnProperty(prop)&&name[prop]&&(fns[prop]=name[prop])}for(prop in fns)fns.hasOwnProperty(prop)&&(overrides[prop]=fns[prop],name_clone||(name_clone=$.extend({},name)),delete name_clone[prop]);if(name_clone&&isEmptyObject(name_clone))return;min?(min=0===min?new Date:new Date(min),tp_inst._defaults.minDate=min,tp_inst._defaults.minDateTime=min):max?(max=0===max?new Date:new Date(max),tp_inst._defaults.maxDate=max,tp_inst._defaults.maxDateTime=max):onselect&&(tp_inst._defaults.onSelect=onselect)}return void 0===value?this._base_optionDatepicker.call($.datepicker,target,name):this._base_optionDatepicker.call($.datepicker,target,name_clone||name,value)};var isEmptyObject=function(obj){var prop;for(prop in obj)if(obj.hasOwnProperty(prop))return!1;return!0},extendRemove=function(target,props){$.extend(target,props);for(var name in props)(null===props[name]||void 0===props[name])&&(target[name]=props[name]);return target},detectSupport=function(timeFormat){var tf=timeFormat.replace(/'.*?'/g,"").toLowerCase(),isIn=function(f,t){return-1!==f.indexOf(t)?!0:!1};return{hour:isIn(tf,"h"),minute:isIn(tf,"m"),second:isIn(tf,"s"),millisec:isIn(tf,"l"),microsec:isIn(tf,"c"),timezone:isIn(tf,"z"),ampm:isIn(tf,"t")&&isIn(timeFormat,"h"),iso8601:isIn(timeFormat,"Z")}},convert24to12=function(hour){return hour%=12,0===hour&&(hour=12),String(hour)},computeEffectiveSetting=function(settings,property){return settings&&settings[property]?settings[property]:$.timepicker._defaults[property]},splitDateTime=function(dateTimeString,timeSettings){var separator=computeEffectiveSetting(timeSettings,"separator"),format=computeEffectiveSetting(timeSettings,"timeFormat"),timeParts=format.split(separator),timePartsLen=timeParts.length,allParts=dateTimeString.split(separator),allPartsLen=allParts.length;return allPartsLen>1?{dateString:allParts.splice(0,allPartsLen-timePartsLen).join(separator),timeString:allParts.splice(0,timePartsLen).join(separator)}:{dateString:dateTimeString,timeString:""}},parseDateTimeInternal=function(dateFormat,timeFormat,dateTimeString,dateSettings,timeSettings){var date,parts,parsedTime;if(parts=splitDateTime(dateTimeString,timeSettings),date=$.datepicker._base_parseDate(dateFormat,parts.dateString,dateSettings),""===parts.timeString)return{date:date};if(parsedTime=$.datepicker.parseTime(timeFormat,parts.timeString,timeSettings),!parsedTime)throw"Wrong time format";return{date:date,timeObj:parsedTime}},selectLocalTimezone=function(tp_inst,date){if(tp_inst&&tp_inst.timezone_select){var now=date||new Date;tp_inst.timezone_select.val(-now.getTimezoneOffset())}};$.timepicker=new Timepicker,$.timepicker.timezoneOffsetString=function(tzMinutes,iso8601){if(isNaN(tzMinutes)||tzMinutes>840||-720>tzMinutes)return tzMinutes;var off=tzMinutes,minutes=off%60,hours=(off-minutes)/60,iso=iso8601?":":"",tz=(off>=0?"+":"-")+("0"+Math.abs(hours)).slice(-2)+iso+("0"+Math.abs(minutes)).slice(-2);return"+00:00"===tz?"Z":tz},$.timepicker.timezoneOffsetNumber=function(tzString){var normalized=tzString.toString().replace(":","");return"Z"===normalized.toUpperCase()?0:/^(\-|\+)\d{4}$/.test(normalized)?("-"===normalized.substr(0,1)?-1:1)*(60*parseInt(normalized.substr(1,2),10)+parseInt(normalized.substr(3,2),10)):tzString},$.timepicker.timezoneAdjust=function(date,toTimezone){var toTz=$.timepicker.timezoneOffsetNumber(toTimezone);return isNaN(toTz)||date.setMinutes(date.getMinutes()+-date.getTimezoneOffset()-toTz),date},$.timepicker.timeRange=function(startTime,endTime,options){return $.timepicker.handleRange("timepicker",startTime,endTime,options)},$.timepicker.datetimeRange=function(startTime,endTime,options){$.timepicker.handleRange("datetimepicker",startTime,endTime,options)},$.timepicker.dateRange=function(startTime,endTime,options){$.timepicker.handleRange("datepicker",startTime,endTime,options)},$.timepicker.handleRange=function(method,startTime,endTime,options){function checkDates(changed,other){var startdt=startTime[method]("getDate"),enddt=endTime[method]("getDate"),changeddt=changed[method]("getDate");if(null!==startdt){var minDate=new Date(startdt.getTime()),maxDate=new Date(startdt.getTime());minDate.setMilliseconds(minDate.getMilliseconds()+options.minInterval),maxDate.setMilliseconds(maxDate.getMilliseconds()+options.maxInterval),options.minInterval>0&&minDate>enddt?endTime[method]("setDate",minDate):options.maxInterval>0&&enddt>maxDate?endTime[method]("setDate",maxDate):startdt>enddt&&other[method]("setDate",changeddt)}}function selected(changed,other,option){if(changed.val()){var date=changed[method].call(changed,"getDate");null!==date&&options.minInterval>0&&("minDate"===option&&date.setMilliseconds(date.getMilliseconds()+options.minInterval),"maxDate"===option&&date.setMilliseconds(date.getMilliseconds()-options.minInterval)),date.getTime&&other[method].call(other,"option",option,date)}}return options=$.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},options),$.fn[method].call(startTime,$.extend({onClose:function(){checkDates($(this),endTime)},onSelect:function(){selected($(this),endTime,"minDate")}},options,options.start)),$.fn[method].call(endTime,$.extend({onClose:function(){checkDates($(this),startTime)},onSelect:function(){selected($(this),startTime,"maxDate")}},options,options.end)),checkDates(startTime,endTime),selected(startTime,endTime,"minDate"),selected(endTime,startTime,"maxDate"),$([startTime.get(0),endTime.get(0)])},$.timepicker.log=function(err){window.console&&window.console.log(err)},$.timepicker._util={_extendRemove:extendRemove,_isEmptyObject:isEmptyObject,_convert24to12:convert24to12,_detectSupport:detectSupport,_selectLocalTimezone:selectLocalTimezone,_computeEffectiveSetting:computeEffectiveSetting,_splitDateTime:splitDateTime,_parseDateTimeInternal:parseDateTimeInternal},Date.prototype.getMicroseconds||(Date.prototype.microseconds=0,Date.prototype.getMicroseconds=function(){return this.microseconds},Date.prototype.setMicroseconds=function(m){return this.setMilliseconds(this.getMilliseconds()+Math.floor(m/1e3)),this.microseconds=m%1e3,this}),$.timepicker.version="1.4"}}(jQuery),function(t,e,i){function o(i,o,n){var r=e.createElement(i);return o&&(r.id=te+o),n&&(r.style.cssText=n),t(r)}function n(){return i.innerHeight?i.innerHeight:t(i).height()}function r(t){var e=E.length,i=(j+t)%e;return 0>i?e+i:i}function l(t,e){return Math.round((/%/.test(t)?("x"===e?H.width():n())/100:1)*parseInt(t,10))}function h(t,e){return t.photo||t.photoRegex.test(e)}function s(t,e){return t.retinaUrl&&i.devicePixelRatio>1?e.replace(t.photoRegex,t.retinaSuffix):e}function a(t){"contains"in v[0]&&!v[0].contains(t.target)&&(t.stopPropagation(),v.focus())}function d(){var e,i=t.data(A,Z);null==i?(O=t.extend({},Y),console&&console.log&&console.log("Error: cboxElement missing settings object")):O=t.extend({},i);for(e in O)t.isFunction(O[e])&&"on"!==e.slice(0,2)&&(O[e]=O[e].call(A));O.rel=O.rel||A.rel||t(A).data("rel")||"nofollow",O.href=O.href||t(A).attr("href"),O.title=O.title||A.title,"string"==typeof O.href&&(O.href=t.trim(O.href))}function c(i,o){t(e).trigger(i),se.trigger(i),t.isFunction(o)&&o.call(A)}function u(){var t,e,i,o,n,r=te+"Slideshow_",l="click."+te;O.slideshow&&E[1]?(e=function(){clearTimeout(t)},i=function(){(O.loop||E[j+1])&&(t=setTimeout(J.next,O.slideshowSpeed))},o=function(){R.html(O.slideshowStop).unbind(l).one(l,n),se.bind(ne,i).bind(oe,e).bind(re,n),v.removeClass(r+"off").addClass(r+"on")},n=function(){e(),se.unbind(ne,i).unbind(oe,e).unbind(re,n),R.html(O.slideshowStart).unbind(l).one(l,function(){J.next(),o()}),v.removeClass(r+"on").addClass(r+"off")},O.slideshowAuto?o():n()):v.removeClass(r+"off "+r+"on")}function p(i){G||(A=i,d(),E=t(A),j=0,"nofollow"!==O.rel&&(E=t("."+ee).filter(function(){var e,i=t.data(this,Z);return i&&(e=t(this).data("rel")||i.rel||this.rel),e===O.rel}),j=E.index(A),-1===j&&(E=E.add(A),j=E.length-1)),g.css({opacity:parseFloat(O.opacity),cursor:O.overlayClose?"pointer":"auto",visibility:"visible"}).show(),V&&v.add(g).removeClass(V),O.className&&v.add(g).addClass(O.className),V=O.className,O.closeButton?P.html(O.close).appendTo(x):P.appendTo("<div/>"),$||($=q=!0,v.css({visibility:"hidden",display:"block"}),W=o(ae,"LoadedContent","width:0; height:0; overflow:hidden"),x.css({width:"",height:""}).append(W),_=b.height()+k.height()+x.outerHeight(!0)-x.height(),D=T.width()+C.width()+x.outerWidth(!0)-x.width(),N=W.outerHeight(!0),z=W.outerWidth(!0),O.w=l(O.initialWidth,"x"),O.h=l(O.initialHeight,"y"),J.position(),u(),c(ie,O.onOpen),B.add(S).hide(),v.focus(),O.trapFocus&&e.addEventListener&&(e.addEventListener("focus",a,!0),se.one(le,function(){e.removeEventListener("focus",a,!0)})),O.returnFocus&&se.one(le,function(){t(A).focus()})),w())}function f(){!v&&e.body&&(X=!1,H=t(i),v=o(ae).attr({id:Z,"class":t.support.opacity===!1?te+"IE":"",role:"dialog",tabindex:"-1"}).hide(),g=o(ae,"Overlay").hide(),L=t([o(ae,"LoadingOverlay")[0],o(ae,"LoadingGraphic")[0]]),y=o(ae,"Wrapper"),x=o(ae,"Content").append(S=o(ae,"Title"),M=o(ae,"Current"),K=t('<button type="button"/>').attr({id:te+"Previous"}),I=t('<button type="button"/>').attr({id:te+"Next"}),R=o("button","Slideshow"),L),P=t('<button type="button"/>').attr({id:te+"Close"}),y.append(o(ae).append(o(ae,"TopLeft"),b=o(ae,"TopCenter"),o(ae,"TopRight")),o(ae,!1,"clear:left").append(T=o(ae,"MiddleLeft"),x,C=o(ae,"MiddleRight")),o(ae,!1,"clear:left").append(o(ae,"BottomLeft"),k=o(ae,"BottomCenter"),o(ae,"BottomRight"))).find("div div").css({"float":"left"}),F=o(ae,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),B=I.add(K).add(M).add(R),t(e.body).append(g,v.append(y,F)))}function m(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),p(this))}return v?(X||(X=!0,I.click(function(){J.next()}),K.click(function(){J.prev()}),P.click(function(){J.close()}),g.click(function(){O.overlayClose&&J.close()}),t(e).bind("keydown."+te,function(t){var e=t.keyCode;$&&O.escKey&&27===e&&(t.preventDefault(),J.close()),$&&O.arrowKey&&E[1]&&!t.altKey&&(37===e?(t.preventDefault(),K.click()):39===e&&(t.preventDefault(),I.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+te,"."+ee,i):t("."+ee).live("click."+te,i)),!0):!1}function w(){var n,r,a,u=J.prep,p=++de;q=!0,U=!1,A=E[j],d(),c(he),c(oe,O.onLoad),O.h=O.height?l(O.height,"y")-N-_:O.innerHeight&&l(O.innerHeight,"y"),O.w=O.width?l(O.width,"x")-z-D:O.innerWidth&&l(O.innerWidth,"x"),O.mw=O.w,O.mh=O.h,O.maxWidth&&(O.mw=l(O.maxWidth,"x")-z-D,O.mw=O.w&&O.w<O.mw?O.w:O.mw),O.maxHeight&&(O.mh=l(O.maxHeight,"y")-N-_,O.mh=O.h&&O.h<O.mh?O.h:O.mh),n=O.href,Q=setTimeout(function(){L.show()},100),O.inline?(a=o(ae).hide().insertBefore(t(n)[0]),se.one(he,function(){a.replaceWith(W.children())}),u(t(n))):O.iframe?u(" "):O.html?u(O.html):h(O,n)?(n=s(O,n),U=e.createElement("img"),t(U).addClass(te+"Photo").bind("error",function(){O.title=!1,u(o(ae,"Error").html(O.imgError))}).one("load",function(){var e;p===de&&(U.alt=t(A).attr("alt")||t(A).attr("data-alt")||"",O.retinaImage&&i.devicePixelRatio>1&&(U.height=U.height/i.devicePixelRatio,U.width=U.width/i.devicePixelRatio),O.scalePhotos&&(r=function(){U.height-=U.height*e,U.width-=U.width*e},O.mw&&U.width>O.mw&&(e=(U.width-O.mw)/U.width,r()),O.mh&&U.height>O.mh&&(e=(U.height-O.mh)/U.height,r())),O.h&&(U.style.marginTop=Math.max(O.mh-U.height,0)/2+"px"),E[1]&&(O.loop||E[j+1])&&(U.style.cursor="pointer",U.onclick=function(){J.next()}),U.style.width=U.width+"px",U.style.height=U.height+"px",setTimeout(function(){u(U)},1))}),setTimeout(function(){U.src=n},1)):n&&F.load(n,O.data,function(e,i){p===de&&u("error"===i?o(ae,"Error").html(O.xhrError):t(this).contents())})}var g,v,y,x,b,T,C,k,E,H,W,F,L,S,M,R,I,K,P,B,O,_,D,N,z,A,j,U,$,q,G,Q,J,V,X,Y={transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,trapFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0},Z="colorbox",te="cbox",ee=te+"Element",ie=te+"_open",oe=te+"_load",ne=te+"_complete",re=te+"_cleanup",le=te+"_closed",he=te+"_purge",se=t("<a/>"),ae="div",de=0,ce={};t.colorbox||(t(f),J=t.fn[Z]=t[Z]=function(e,i){var o=this;if(e=e||{},f(),m()){if(t.isFunction(o))o=t("<a/>"),e.open=!0;else if(!o[0])return o;i&&(e.onComplete=i),o.each(function(){t.data(this,Z,t.extend({},t.data(this,Z)||Y,e))}).addClass(ee),(t.isFunction(e.open)&&e.open.call(o)||e.open)&&p(o[0])}return o},J.position=function(e,i){function o(){b[0].style.width=k[0].style.width=x[0].style.width=parseInt(v[0].style.width,10)-D+"px",x[0].style.height=T[0].style.height=C[0].style.height=parseInt(v[0].style.height,10)-_+"px"}var r,h,s,a=0,d=0,c=v.offset();if(H.unbind("resize."+te),v.css({top:-9e4,left:-9e4}),h=H.scrollTop(),s=H.scrollLeft(),O.fixed?(c.top-=h,c.left-=s,v.css({position:"fixed"})):(a=h,d=s,v.css({position:"absolute"})),d+=O.right!==!1?Math.max(H.width()-O.w-z-D-l(O.right,"x"),0):O.left!==!1?l(O.left,"x"):Math.round(Math.max(H.width()-O.w-z-D,0)/2),a+=O.bottom!==!1?Math.max(n()-O.h-N-_-l(O.bottom,"y"),0):O.top!==!1?l(O.top,"y"):Math.round(Math.max(n()-O.h-N-_,0)/2),v.css({top:c.top,left:c.left,visibility:"visible"}),y[0].style.width=y[0].style.height="9999px",r={width:O.w+z+D,height:O.h+N+_,top:a,left:d},e){var u=0;t.each(r,function(t){return r[t]!==ce[t]?void(u=e):void 0}),e=u}ce=r,e||v.css(r),v.dequeue().animate(r,{duration:e||0,complete:function(){o(),q=!1,y[0].style.width=O.w+z+D+"px",y[0].style.height=O.h+N+_+"px",O.reposition&&setTimeout(function(){H.bind("resize."+te,J.position)},1),i&&i()},step:o})},J.resize=function(t){var e;$&&(t=t||{},t.width&&(O.w=l(t.width,"x")-z-D),t.innerWidth&&(O.w=l(t.innerWidth,"x")),W.css({width:O.w}),t.height&&(O.h=l(t.height,"y")-N-_),t.innerHeight&&(O.h=l(t.innerHeight,"y")),t.innerHeight||t.height||(e=W.scrollTop(),W.css({height:"auto"}),O.h=W.height()),W.css({height:O.h}),e&&W.scrollTop(e),J.position("none"===O.transition?0:O.speed))},J.prep=function(i){function n(){return O.w=O.w||W.width(),O.w=O.mw&&O.mw<O.w?O.mw:O.w,O.w}function l(){return O.h=O.h||W.height(),O.h=O.mh&&O.mh<O.h?O.mh:O.h,O.h}if($){var a,d="none"===O.transition?0:O.speed;W.empty().remove(),W=o(ae,"LoadedContent").append(i),W.hide().appendTo(F.show()).css({width:n(),overflow:O.scrolling?"auto":"hidden"}).css({height:l()}).prependTo(x),F.hide(),t(U).css({"float":"none"}),a=function(){function i(){t.support.opacity===!1&&v[0].style.removeAttribute("filter")}var n,l,a=E.length,u="frameBorder",p="allowTransparency";$&&(l=function(){clearTimeout(Q),L.hide(),c(ne,O.onComplete)},S.html(O.title).add(W).show(),a>1?("string"==typeof O.current&&M.html(O.current.replace("{current}",j+1).replace("{total}",a)).show(),I[O.loop||a-1>j?"show":"hide"]().html(O.next),K[O.loop||j?"show":"hide"]().html(O.previous),O.slideshow&&R.show(),O.preloading&&t.each([r(-1),r(1)],function(){var i,o,n=E[this],r=t.data(n,Z);r&&r.href?(i=r.href,t.isFunction(i)&&(i=i.call(n))):i=t(n).attr("href"),i&&h(r,i)&&(i=s(r,i),o=e.createElement("img"),o.src=i)})):B.hide(),O.iframe?(n=o("iframe")[0],u in n&&(n[u]=0),p in n&&(n[p]="true"),O.scrolling||(n.scrolling="no"),t(n).attr({src:O.href,name:(new Date).getTime(),"class":te+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",l).appendTo(W),se.one(he,function(){n.src="//about:blank"}),O.fastIframe&&t(n).trigger("load")):l(),"fade"===O.transition?v.fadeTo(d,1,i):i())},"fade"===O.transition?v.fadeTo(d,0,function(){J.position(0,a)}):J.position(d,a)}},J.next=function(){!q&&E[1]&&(O.loop||E[j+1])&&(j=r(1),p(E[j]))},J.prev=function(){!q&&E[1]&&(O.loop||j)&&(j=r(-1),p(E[j]))},J.close=function(){$&&!G&&(G=!0,$=!1,c(re,O.onCleanup),H.unbind("."+te),g.fadeTo(O.fadeOut||0,0),v.stop().fadeTo(O.fadeOut||0,0,function(){v.add(g).css({opacity:1,cursor:"auto"}).hide(),c(he),W.empty().remove(),setTimeout(function(){G=!1,c(le,O.onClosed)},1)}))},J.remove=function(){v&&(v.stop(),t.colorbox.close(),v.stop().remove(),g.remove(),G=!1,v=null,t("."+ee).removeData(Z).removeClass(ee),t(e).unbind("click."+te))},J.element=function(){return t(A)},J.settings=Y)}(jQuery,document,window),function($){var defaults={url:!1,icon:!0,grab:!1,callback:!1,duration:120};$.fn.zoom=function(options){return this.each(function(){var $icon,root=this,$root=$(root),img=new Image,$img=$(img),position=$root.css("position"),settings=$.extend({},defaults,options||{}),mousemove="mousemove";$root.css({position:/(absolute|fixed)/.test(position)?position:"relative",overflow:"hidden"}),(settings.url||(settings.url=$root.find("img:first")[0].src,settings.url))&&(settings.icon&&($icon=$('<div class="zoomIcon">').appendTo($root)),img.onload=function(){function ratio(){outerWidth=$root.outerWidth(),outerHeight=$root.outerHeight(),xRatio=(img.width-outerWidth)/outerWidth,yRatio=(img.height-outerHeight)/outerHeight}function move(e){left=e.pageX-offset.left,top=e.pageY-offset.top,left>outerWidth?left=outerWidth:0>left&&(left=0),top>outerHeight?top=outerHeight:0>top&&(top=0),img.style.left=left*-xRatio+"px",img.style.top=top*-yRatio+"px",e.preventDefault()}var outerWidth,outerHeight,xRatio,yRatio,left,top,offset=$root.offset();ratio(),$img.addClass("zoomImg").css({position:"absolute",top:0,left:0,opacity:0,width:img.width,height:img.height,border:"none"}).appendTo($root),settings.grab?$img.mousedown(function(e){offset=$root.offset(),$(document).one("mouseup",function(){$img.stop().fadeTo(settings.duration,0),$(document).unbind(mousemove,move)}),ratio(),move(e),$img.stop().fadeTo($.support.opacity?settings.duration:0,1),$(document)[mousemove](move),e.preventDefault()}):$img.hover(function(){offset=$root.offset(),ratio(),$img.stop().fadeTo($.support.opacity?settings.duration:0,1)},function(){$img.stop().fadeTo(settings.duration,0)})[mousemove](function(e){img.style.left=(e.pageX-offset.left)*-xRatio+"px",img.style.top=(e.pageY-offset.top)*-yRatio+"px"}),$.isFunction(settings.callback)&&settings.callback.call(img)},img.src=settings.url)})},$.fn.zoom.defaults=defaults}(jQuery),function(){function g(o){console.log("$f.fireEvent",[].slice.call(o))}function k(q){if(!q||"object"!=typeof q)return q;var o=new q.constructor;for(var p in q)q.hasOwnProperty(p)&&(o[p]=k(q[p]));return o}function m(t,q){if(t){var o,p=0,r=t.length;if(void 0===r){for(o in t)if(q.call(t[o],o,t[o])===!1)break}else for(var s=t[0];r>p&&q.call(s,p,s)!==!1;s=t[++p]);return t}}function c(o){return document.getElementById(o)}function i(q,p,o){return"object"!=typeof p?q:(q&&p&&m(p,function(r,s){o&&"function"==typeof s||(q[r]=s)}),q)}function n(s){var q=s.indexOf(".");if(-1!=q){var p=s.slice(0,q)||"*",o=s.slice(q+1,s.length),r=[];return m(document.getElementsByTagName(p),function(){this.className&&-1!=this.className.indexOf(o)&&r.push(this)}),r}}function f(o){return o=o||window.event,o.preventDefault?(o.stopPropagation(),o.preventDefault()):(o.returnValue=!1,o.cancelBubble=!0),!1}function j(q,o,p){q[o]=q[o]||[],q[o].push(p)}function e(){return"_"+(""+Math.random()).slice(2,10)}function b(q,G,t){function B(){function K(L){return!/iPad|iPhone|iPod/i.test(navigator.userAgent)||/.flv$/i.test(F[0].url)||J()?(w.isLoaded()||w._fireEvent("onBeforeClick")===!1||w.load(),f(L)):!0}function J(){return w.hasiPadSupport&&w.hasiPadSupport()}function H(){""!==u.replace(/\s/g,"")?q.addEventListener?q.addEventListener("click",K,!1):q.attachEvent&&q.attachEvent("onclick",K):(q.addEventListener&&!J()&&q.addEventListener("click",f,!1),w.load())}$f(q)?($f(q).getParent().innerHTML="",p=$f(q).getIndex(),a[p]=w):(a.push(w),p=a.length-1),A=parseInt(q.style.height,10)||q.clientHeight,E=q.id||"fp"+e(),r=G.id||E+"_api",G.id=r,u=q.innerHTML,"string"==typeof t&&(t={clip:{url:t}}),t.playerId=E,t.clip=t.clip||{},q.getAttribute("href",2)&&!t.clip.url&&(t.clip.url=q.getAttribute("href",2)),s=new h(t.clip,-1,w),t.playlist=t.playlist||[t.clip];var I=0;m(t.playlist,function(){var L=this;"object"==typeof L&&L.length&&(L={url:""+L}),m(t.clip,function(M,N){void 0!==N&&void 0===L[M]&&"function"!=typeof N&&(L[M]=N)}),t.playlist[I]=L,L=new h(L,I,w),F.push(L),I++}),m(t,function(L,M){"function"==typeof M&&(s[L]?s[L](M):j(x,L,M),delete t[L])}),m(t.plugins,function(L,M){M&&(y[L]=new l(L,M,w))}),t.plugins&&void 0!==t.plugins.controls||(y.controls=new l("controls",null,w)),y.canvas=new l("canvas",null,w),u=q.innerHTML,setTimeout(H,0)}var u,s,E,r,p,C,o,A,w=this,v=null,D=!1,F=[],y={},x={};if(i(w,{id:function(){return E},isLoaded:function(){return null!==v&&void 0!==v.fp_play&&!D},getParent:function(){return q},hide:function(H){return H&&(q.style.height="0px"),w.isLoaded()&&(v.style.height="0px"),w},show:function(){return q.style.height=A+"px",w.isLoaded()&&(v.style.height=o+"px"),w},isHidden:function(){return w.isLoaded()&&0===parseInt(v.style.height,10)},load:function(J){if(!w.isLoaded()&&w._fireEvent("onBeforeLoad")!==!1){var H=function(){u&&!flashembed.isSupported(G.version)&&(q.innerHTML=""),J&&(J.cached=!0,j(x,"onLoad",J)),flashembed(q,G,{config:t})},I=0;m(a,function(){this.unload(function(){++I==a.length&&H()})})}return w},unload:function(J){if(""!==u.replace(/\s/g,"")){if(w._fireEvent("onBeforeUnload")===!1)return J&&J(!1),w;D=!0;try{v&&(v.fp_isFullscreen()&&v.fp_toggleFullscreen(),v.fp_close(),w._fireEvent("onUnload"))}catch(H){}var I=function(){v=null,q.innerHTML=u,D=!1,J&&J(!0)};/WebKit/i.test(navigator.userAgent)&&!/Chrome/i.test(navigator.userAgent)?setTimeout(I,0):I()}else J&&J(!1);return w},getClip:function(H){return void 0===H&&(H=C),F[H]},getCommonClip:function(){return s},getPlaylist:function(){return F},getPlugin:function(H){var J=y[H];if(!J&&w.isLoaded()){var I=w._api().fp_getPlugin(H);I&&(J=new l(H,I,w),y[H]=J)}return J},getScreen:function(){return w.getPlugin("screen")},getControls:function(){return w.getPlugin("controls")._fireEvent("onUpdate")},getLogo:function(){try{return w.getPlugin("logo")._fireEvent("onUpdate")}catch(H){}},getPlay:function(){return w.getPlugin("play")._fireEvent("onUpdate")},getConfig:function(H){return H?k(t):t},getFlashParams:function(){return G},loadPlugin:function(K,J,M,L){"function"==typeof M&&(L=M,M={});var I=L?e():"_";w._api().fp_loadPlugin(K,J,M,I);var H={};H[I]=L;var N=new l(K,null,w,H);return y[K]=N,N},getState:function(){return w.isLoaded()?v.fp_getState():-1},play:function(I,H){var J=function(){void 0!==I?w._api().fp_play(I,H):w._api().fp_play()};return w.isLoaded()?J():D?setTimeout(function(){w.play(I,H)},50):w.load(function(){J()}),w},getVersion:function(){var I="flowplayer.js 3.2.11";if(w.isLoaded()){var H=v.fp_getVersion();return H.push(I),H}return I},_api:function(){if(!w.isLoaded())throw"Flowplayer "+w.id()+" not loaded when calling an API method";return v},setClip:function(H){return m(H,function(I,J){"function"==typeof J?(j(x,I,J),delete H[I]):"onCuepoint"==I&&$f(q).getCommonClip().onCuepoint(H[I][0],H[I][1])}),w.setPlaylist([H]),w},getIndex:function(){return p},bufferAnimate:function(H){return v.fp_bufferAnimate(void 0===H||H),w},_swfHeight:function(){return v.clientHeight}}),m("Click*,Load*,Unload*,Keypress*,Volume*,Mute*,Unmute*,PlaylistReplace,ClipAdd,Fullscreen*,FullscreenExit,Error,MouseOver,MouseOut".split(","),function(){var H="on"+this;if(-1!=H.indexOf("*")){H=H.slice(0,H.length-1);var I="onBefore"+H.slice(2);w[I]=function(J){return j(x,I,J),w}}w[H]=function(J){return j(x,H,J),w}}),m("pause,resume,mute,unmute,stop,toggle,seek,getStatus,getVolume,setVolume,getTime,isPaused,isPlaying,startBuffering,stopBuffering,isFullscreen,toggleFullscreen,reset,close,setPlaylist,addClip,playFeed,setKeyboardShortcutsEnabled,isKeyboardShortcutsEnabled".split(","),function(){var H=this;w[H]=function(J,I){if(!w.isLoaded())return w;var K=null;return K=void 0!==J&&void 0!==I?v["fp_"+H](J,I):void 0===J?v["fp_"+H]():v["fp_"+H](J),"undefined"===K||void 0===K?w:K}}),w._fireEvent=function(Q){"string"==typeof Q&&(Q=[Q]);var R=Q[0],O=Q[1],M=Q[2],L=Q[3],K=0;if(t.debug&&g(Q),w.isLoaded()||"onLoad"!=R||"player"!=O||(v=v||c(r),o=w._swfHeight(),m(F,function(){this._fireEvent("onLoad")}),m(y,function(S,T){T._fireEvent("onUpdate")}),s._fireEvent("onLoad")),"onLoad"!=R||"player"==O){if("onError"==R&&("string"==typeof O||"number"==typeof O&&"number"==typeof M)&&(O=M,M=L),"onContextMenu"==R)return void m(t.contextMenu[O],function(S,T){T.call(w)});if("onPluginEvent"!=R&&"onBeforePluginEvent"!=R){if("onPlaylistReplace"==R){F=[];var N=0;m(O,function(){F.push(new h(this,N++,w))})}if("onClipAdd"==R){if(O.isInStream)return;for(O=new h(O,M,w),F.splice(M,0,O),K=M+1;K<F.length;K++)F[K].index++}var P=!0;if("number"==typeof O&&O<F.length){C=O;var J=F[O];J&&(P=J._fireEvent(R,M,L)),J&&P===!1||(P=s._fireEvent(R,M,L,J))}return m(x[R],function(){return P=this.call(w,O,M),this.cached&&x[R].splice(K,1),P===!1?!1:void K++}),P}var H=O.name||O,I=y[H];if(I)return I._fireEvent("onUpdate",O),I._fireEvent(M,Q.slice(3))}},"string"==typeof q){var z=c(q);if(!z)throw"Flowplayer cannot access element: "+q;q=z,B()}else B()}function d(o){this.length=o.length,this.each=function(q){m(o,q)},this.size=function(){return o.length};var p=this;for(name in b.prototype)p[name]=function(){var q=arguments;p.each(function(){this[name].apply(this,q)})}}var h=function(t,r,s){var q=this,p={},u={};if(q.index=r,"string"==typeof t&&(t={url:t}),i(this,t,!0),m("Begin*,Start,Pause*,Resume*,Seek*,Stop*,Finish*,LastSecond,Update,BufferFull,BufferEmpty,BufferStop".split(","),function(){var v="on"+this;if(-1!=v.indexOf("*")){v=v.slice(0,v.length-1);var w="onBefore"+v.slice(2);q[w]=function(x){return j(u,w,x),q}}q[v]=function(x){return j(u,v,x),q},-1==r&&(q[w]&&(s[w]=q[w]),q[v]&&(s[v]=q[v]))}),i(this,{onCuepoint:function(x,w){if(1==arguments.length)return p.embedded=[null,x],q;"number"==typeof x&&(x=[x]);var v=e();return p[v]=[x,w],s.isLoaded()&&s._api().fp_addCuepoints(x,r,v),q},update:function(w){i(q,w),s.isLoaded()&&s._api().fp_updateClip(w,r);var v=s.getConfig(),x=-1==r?v.clip:v.playlist[r];i(x,w,!0)},_fireEvent:function(v,y,w,A){if("onLoad"==v)return m(p,function(B,C){C[0]&&s._api().fp_addCuepoints(C[0],r,B)}),!1;if(A=A||q,"onCuepoint"==v){var z=p[y];if(z)return z[1].call(s,A,w)}y&&-1!="onBeforeBegin,onMetaData,onStart,onUpdate,onResume".indexOf(v)&&(i(A,y),y.metaData&&(A.duration?A.fullDuration=y.metaData.duration:A.duration=y.metaData.duration));var x=!0;return m(u[v],function(){x=this.call(s,A,y,w)
}),x}}),t.onCuepoint){var o=t.onCuepoint;q.onCuepoint.apply(q,"function"==typeof o?[o]:o),delete t.onCuepoint}m(t,function(v,w){"function"==typeof w&&(j(u,v,w),delete t[v])}),-1==r&&(s.onCuepoint=this.onCuepoint)},l=function(p,r,q,t){var o=this,s={},u=!1;t&&i(s,t),m(r,function(v,w){"function"==typeof w&&(s[v]=w,delete r[v])}),i(this,{animate:function(y,z,x){if(!y)return o;if("function"==typeof z&&(x=z,z=500),"string"==typeof y){var w=y;y={},y[w]=z,z=500}if(x){var v=e();s[v]=x}return void 0===z&&(z=500),r=q._api().fp_animate(p,y,z,v),o},css:function(w,x){if(void 0!==x){var v={};v[w]=x,w=v}return r=q._api().fp_css(p,w),i(o,r),o},show:function(){return this.display="block",q._api().fp_showPlugin(p),o},hide:function(){return this.display="none",q._api().fp_hidePlugin(p),o},toggle:function(){return this.display=q._api().fp_togglePlugin(p),o},fadeTo:function(y,x,w){if("function"==typeof x&&(w=x,x=500),w){var v=e();s[v]=w}return this.display=q._api().fp_fadeTo(p,y,x,v),this.opacity=y,o},fadeIn:function(w,v){return o.fadeTo(1,w,v)},fadeOut:function(w,v){return o.fadeTo(0,w,v)},getName:function(){return p},getPlayer:function(){return q},_fireEvent:function(w,v){if("onUpdate"==w){var z=q._api().fp_getPlugin(p);if(!z)return;i(o,z),delete o.methods,u||(m(z.methods,function(){var B=""+this;o[B]=function(){var C=[].slice.call(arguments),D=q._api().fp_invoke(p,B,C);return"undefined"===D||void 0===D?o:D}}),u=!0)}var A=s[w];if(A){var y=A.apply(o,v);return"_"==w.slice(0,1)&&delete s[w],y}return o}})},a=[];window.flowplayer=window.$f=function(){var p=null,o=arguments[0];if(!arguments.length)return m(a,function(){return this.isLoaded()?(p=this,!1):void 0}),p||a[0];if(1==arguments.length)return"number"==typeof o?a[o]:"*"==o?new d(a):(m(a,function(){return this.id()==o.id||this.id()==o||this.getParent()==o?(p=this,!1):void 0}),p);if(arguments.length>1){var t=arguments[1],q=3==arguments.length?arguments[2]:{};if("string"==typeof t&&(t={src:t}),t=i({bgcolor:"#000000",version:[10,1],expressInstall:"http://releases.flowplayer.org/swf/expressinstall.swf",cachebusting:!1},t),"string"==typeof o){if(-1!=o.indexOf(".")){var s=[];return m(n(o),function(){s.push(new b(this,k(t),k(q)))}),new d(s)}var r=c(o);return new b(null!==r?r:k(o),k(t),k(q))}if(o)return new b(o,k(t),k(q))}return null},i(window.$f,{fireEvent:function(){var o=[].slice.call(arguments),q=$f(o[0]);return q?q._fireEvent(o.slice(1)):null},addPlugin:function(o,p){return b.prototype[o]=p,$f},each:m,extend:i}),"function"==typeof jQuery&&(jQuery.fn.flowplayer=function(q,p){if(!arguments.length||"number"==typeof arguments[0]){var o=[];return this.each(function(){var r=$f(this);r&&o.push(r)}),arguments.length?o[arguments[0]]:new d(o)}return this.each(function(){$f(this,k(q),p?k(p):{})})})}(),function(){function i(m,l){if(l)for(var f in l)l.hasOwnProperty(f)&&(m[f]=l[f]);return m}function a(f,n){var m=[];for(var l in f)f.hasOwnProperty(l)&&(m[l]=n(f[l]));return m}function d(f,n,m){if(g.isSupported(n.version))f.innerHTML=g.getHTML(n,m);else if(n.expressInstall&&g.isSupported([6,65]))f.innerHTML=g.getHTML(i(n,{src:n.expressInstall}),{MMredirectURL:encodeURIComponent(location.href),MMplayerType:"PlugIn",MMdoctitle:document.title});else if(f.innerHTML.replace(/\s/g,"")||(f.innerHTML="<h2>Flash version "+n.version+" or greater is required</h2><h3>"+(k[0]>0?"Your version is "+k:"You have no flash plugin installed")+"</h3>"+("A"==f.tagName?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+j+"'>here</a></p>"),("A"==f.tagName||"DIV"==f.tagName)&&(f.onclick=function(){location.href=j})),n.onFail){var l=n.onFail.call(this);"string"==typeof l&&(f.innerHTML=l)}h&&(window[n.id]=document.getElementById(n.id)),i(this,{getRoot:function(){return f},getOptions:function(){return n},getConf:function(){return m},getApi:function(){return f.firstChild}})}var h=document.all,j="http://get.adobe.com/flashplayer",c="function"==typeof jQuery,e=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,b={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:!0,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:!1,cachebusting:!1};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}}),window.flashembed=function(f,m,l){return"string"==typeof f&&(f=document.getElementById(f.replace("#",""))),f?("string"==typeof m&&(m={src:m}),new d(f,i(i({},b),m),l)):void 0};var g=i(window.flashembed,{conf:b,getVersion:function(){var m,f;try{f=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(o){try{m=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),f=m&&m.GetVariable("$version")}catch(n){try{m=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),f=m&&m.GetVariable("$version")}catch(l){}}}return f=e.exec(f),f?[1*f[1],1*f[1*f[1]>9?2:3]*1]:[0,0]},asString:function(l){if(null===l||void 0===l)return null;var f=typeof l;switch("object"==f&&l.push&&(f="array"),f){case"string":return l=l.replace(new RegExp('(["\\\\])',"g"),"\\$1"),l=l.replace(/^\s?(\d+\.?\d*)%/,"$1pct"),'"'+l+'"';case"array":return"["+a(l,function(o){return g.asString(o)}).join(",")+"]";case"function":return'"function()"';case"object":var m=[];for(var n in l)l.hasOwnProperty(n)&&m.push('"'+n+'":'+g.asString(l[n]));return"{"+m.join(",")+"}"}return String(l).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(o,l){o=i({},o);var n='<object width="'+o.width+'" height="'+o.height+'" id="'+o.id+'" name="'+o.id+'"';o.cachebusting&&(o.src+=(-1!=o.src.indexOf("?")?"&":"?")+Math.random()),n+=o.w3c||!h?' data="'+o.src+'" type="application/x-shockwave-flash"':' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',n+=">",(o.w3c||h)&&(n+='<param name="movie" value="'+o.src+'" />'),o.width=o.height=o.id=o.w3c=o.src=null,o.onFail=o.version=o.expressInstall=null;for(var m in o)o[m]&&(n+='<param name="'+m+'" value="'+o[m]+'" />');var p="";if(l){for(var f in l)if(l[f]){var q=l[f];p+=f+"="+(/function|object/.test(typeof q)?g.asString(q):q)+"&"}p=p.slice(0,-1),n+='<param name="flashvars" value=\''+p+"' />"}return n+="</object>"},isSupported:function(f){return k[0]>f[0]||k[0]==f[0]&&k[1]>=f[1]}}),k=g.getVersion();c&&(jQuery.tools=jQuery.tools||{version:"3.2.11"},jQuery.tools.flashembed={conf:b},jQuery.fn.flashembed=function(l,f){return this.each(function(){$(this).data("flashembed",flashembed(this,l,f))})})}(),function($){function Countdown(){function timerCallBack(timestamp){var drawStart=1e12>timestamp?perfAvail?performance.now()+performance.timing.navigationStart:now():timestamp||now();drawStart-animationStartTime>=1e3&&(plugin._updateTargets(),animationStartTime=drawStart),requestAnimationFrame(timerCallBack)}this.regional=[],this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1},this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1},$.extend(this._defaults,this.regional[""]),this._serverSyncs=[];var now="function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},perfAvail=window.performance&&"function"==typeof window.performance.now,requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,animationStartTime=0;!requestAnimationFrame||$.noRequestAnimationFrame?($.noRequestAnimationFrame=null,setInterval(function(){plugin._updateTargets()},980)):(animationStartTime=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||now(),requestAnimationFrame(timerCallBack))}function isNotChained(command,otherArgs){return"option"==command&&(0==otherArgs.length||1==otherArgs.length&&"string"==typeof otherArgs[0])?!0:$.inArray(command,getters)>-1}var Y=0,O=1,W=2,D=3,H=4,M=5,S=6;$.extend(Countdown.prototype,{markerClassName:"hasCountdown",propertyName:"countdown",_rtlClass:"countdown_rtl",_sectionClass:"countdown_section",_amountClass:"countdown_amount",_rowClass:"countdown_row",_holdingClass:"countdown_holding",_showClass:"countdown_show",_descrClass:"countdown_descr",_timerTargets:[],setDefaults:function(options){this._resetExtraLabels(this._defaults,options),$.extend(this._defaults,options||{})},UTCDate:function(tz,year,month,day,hours,mins,secs,ms){"object"==typeof year&&year.constructor==Date&&(ms=year.getMilliseconds(),secs=year.getSeconds(),mins=year.getMinutes(),hours=year.getHours(),day=year.getDate(),month=year.getMonth(),year=year.getFullYear());var d=new Date;return d.setUTCFullYear(year),d.setUTCDate(1),d.setUTCMonth(month||0),d.setUTCDate(day||1),d.setUTCHours(hours||0),d.setUTCMinutes((mins||0)-(Math.abs(tz)<30?60*tz:tz)),d.setUTCSeconds(secs||0),d.setUTCMilliseconds(ms||0),d},periodsToSeconds:function(periods){return 31557600*periods[0]+2629800*periods[1]+604800*periods[2]+86400*periods[3]+3600*periods[4]+60*periods[5]+periods[6]},_attachPlugin:function(target,options){if(target=$(target),!target.hasClass(this.markerClassName)){var inst={options:$.extend({},this._defaults),_periods:[0,0,0,0,0,0,0]};target.addClass(this.markerClassName).data(this.propertyName,inst),this._optionPlugin(target,options)}},_addTarget:function(target){this._hasTarget(target)||this._timerTargets.push(target)},_hasTarget:function(target){return $.inArray(target,this._timerTargets)>-1},_removeTarget:function(target){this._timerTargets=$.map(this._timerTargets,function(value){return value==target?null:value})},_updateTargets:function(){for(var i=this._timerTargets.length-1;i>=0;i--)this._updateCountdown(this._timerTargets[i])},_optionPlugin:function(target,options,value){target=$(target);var inst=target.data(this.propertyName);if(!options||"string"==typeof options&&null==value){var name=options;return options=(inst||{}).options,options&&name?options[name]:options}if(target.hasClass(this.markerClassName)){if(options=options||{},"string"==typeof options){var name=options;options={},options[name]=value}options.layout&&(options.layout=options.layout.replace(/&lt;/g,"<").replace(/&gt;/g,">")),this._resetExtraLabels(inst.options,options);var timezoneChanged=inst.options.timezone!=options.timezone;$.extend(inst.options,options),this._adjustSettings(target,inst,null!=options.until||null!=options.since||timezoneChanged);var now=new Date;(inst._since&&inst._since<now||inst._until&&inst._until>now)&&this._addTarget(target[0]),this._updateCountdown(target,inst)}},_updateCountdown:function(target,inst){var $target=$(target);if(inst=inst||$target.data(this.propertyName)){if($target.html(this._generateHTML(inst)).toggleClass(this._rtlClass,inst.options.isRTL),$.isFunction(inst.options.onTick)){var periods="lap"!=inst._hold?inst._periods:this._calculatePeriods(inst,inst._show,inst.options.significant,new Date);(1==inst.options.tickInterval||this.periodsToSeconds(periods)%inst.options.tickInterval==0)&&inst.options.onTick.apply(target,[periods])}var expired="pause"!=inst._hold&&(inst._since?inst._now.getTime()<inst._since.getTime():inst._now.getTime()>=inst._until.getTime());if(expired&&!inst._expiring){if(inst._expiring=!0,this._hasTarget(target)||inst.options.alwaysExpire){if(this._removeTarget(target),$.isFunction(inst.options.onExpiry)&&inst.options.onExpiry.apply(target,[]),inst.options.expiryText){var layout=inst.options.layout;inst.options.layout=inst.options.expiryText,this._updateCountdown(target,inst),inst.options.layout=layout}inst.options.expiryUrl&&(window.location=inst.options.expiryUrl)}inst._expiring=!1}else"pause"==inst._hold&&this._removeTarget(target);$target.data(this.propertyName,inst)}},_resetExtraLabels:function(base,options){var changingLabels=!1;for(var n in options)if("whichLabels"!=n&&n.match(/[Ll]abels/)){changingLabels=!0;break}if(changingLabels)for(var n in base)n.match(/[Ll]abels[02-9]|compactLabels1/)&&(base[n]=null)},_adjustSettings:function(target,inst,recalc){for(var now,serverOffset=0,serverEntry=null,i=0;i<this._serverSyncs.length;i++)if(this._serverSyncs[i][0]==inst.options.serverSync){serverEntry=this._serverSyncs[i][1];break}if(null!=serverEntry)serverOffset=inst.options.serverSync?serverEntry:0,now=new Date;else{var serverResult=$.isFunction(inst.options.serverSync)?inst.options.serverSync.apply(target,[]):null;now=new Date,serverOffset=serverResult?now.getTime()-serverResult.getTime():0,this._serverSyncs.push([inst.options.serverSync,serverOffset])}var timezone=inst.options.timezone;timezone=null==timezone?-now.getTimezoneOffset():timezone,(recalc||!recalc&&null==inst._until&&null==inst._since)&&(inst._since=inst.options.since,null!=inst._since&&(inst._since=this.UTCDate(timezone,this._determineTime(inst._since,null)),inst._since&&serverOffset&&inst._since.setMilliseconds(inst._since.getMilliseconds()+serverOffset)),inst._until=this.UTCDate(timezone,this._determineTime(inst.options.until,now)),serverOffset&&inst._until.setMilliseconds(inst._until.getMilliseconds()+serverOffset)),inst._show=this._determineShow(inst)},_destroyPlugin:function(target){target=$(target),target.hasClass(this.markerClassName)&&(this._removeTarget(target[0]),target.removeClass(this.markerClassName).empty().removeData(this.propertyName))},_pausePlugin:function(target){this._hold(target,"pause")},_lapPlugin:function(target){this._hold(target,"lap")},_resumePlugin:function(target){this._hold(target,null)},_hold:function(target,hold){var inst=$.data(target,this.propertyName);if(inst){if("pause"==inst._hold&&!hold){inst._periods=inst._savePeriods;var sign=inst._since?"-":"+";inst[inst._since?"_since":"_until"]=this._determineTime(sign+inst._periods[0]+"y"+sign+inst._periods[1]+"o"+sign+inst._periods[2]+"w"+sign+inst._periods[3]+"d"+sign+inst._periods[4]+"h"+sign+inst._periods[5]+"m"+sign+inst._periods[6]+"s"),this._addTarget(target)}inst._hold=hold,inst._savePeriods="pause"==hold?inst._periods:null,$.data(target,this.propertyName,inst),this._updateCountdown(target,inst)}},_getTimesPlugin:function(target){var inst=$.data(target,this.propertyName);return inst?"pause"==inst._hold?inst._savePeriods:inst._hold?this._calculatePeriods(inst,inst._show,inst.options.significant,new Date):inst._periods:null},_determineTime:function(setting,defaultTime){var offsetNumeric=function(offset){var time=new Date;return time.setTime(time.getTime()+1e3*offset),time},offsetString=function(offset){offset=offset.toLowerCase();for(var time=new Date,year=time.getFullYear(),month=time.getMonth(),day=time.getDate(),hour=time.getHours(),minute=time.getMinutes(),second=time.getSeconds(),pattern=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,matches=pattern.exec(offset);matches;){switch(matches[2]||"s"){case"s":second+=parseInt(matches[1],10);break;case"m":minute+=parseInt(matches[1],10);break;case"h":hour+=parseInt(matches[1],10);break;case"d":day+=parseInt(matches[1],10);break;case"w":day+=7*parseInt(matches[1],10);break;case"o":month+=parseInt(matches[1],10),day=Math.min(day,plugin._getDaysInMonth(year,month));break;case"y":year+=parseInt(matches[1],10),day=Math.min(day,plugin._getDaysInMonth(year,month))}matches=pattern.exec(offset)}return new Date(year,month,day,hour,minute,second,0)},time=null==setting?defaultTime:"string"==typeof setting?offsetString(setting):"number"==typeof setting?offsetNumeric(setting):setting;return time&&time.setMilliseconds(0),time},_getDaysInMonth:function(year,month){return 32-new Date(year,month,32).getDate()},_normalLabels:function(num){return num},_generateHTML:function(inst){var self=this;inst._periods=inst._hold?inst._periods:this._calculatePeriods(inst,inst._show,inst.options.significant,new Date);for(var shownNonZero=!1,showCount=0,sigCount=inst.options.significant,show=$.extend({},inst._show),period=Y;S>=period;period++)shownNonZero|="?"==inst._show[period]&&inst._periods[period]>0,show[period]="?"!=inst._show[period]||shownNonZero?inst._show[period]:null,showCount+=show[period]?1:0,sigCount-=inst._periods[period]>0?1:0;for(var showSignificant=[!1,!1,!1,!1,!1,!1,!1],period=S;period>=Y;period--)inst._show[period]&&(inst._periods[period]?showSignificant[period]=!0:(showSignificant[period]=sigCount>0,sigCount--));var labels=inst.options.compact?inst.options.compactLabels:inst.options.labels,whichLabels=inst.options.whichLabels||this._normalLabels,showCompact=function(period){var labelsNum=inst.options["compactLabels"+whichLabels(inst._periods[period])];return show[period]?self._translateDigits(inst,inst._periods[period])+(labelsNum?labelsNum[period]:labels[period])+" ":""},showFull=function(period){var labelsNum=inst.options["labels"+whichLabels(inst._periods[period])];return!inst.options.significant&&show[period]||inst.options.significant&&showSignificant[period]?'<span class="'+plugin._sectionClass+'"><span class="'+plugin._amountClass+'">'+self._translateDigits(inst,inst._periods[period])+"</span><br/>"+(labelsNum?labelsNum[period]:labels[period])+"</span>":""};return inst.options.layout?this._buildLayout(inst,show,inst.options.layout,inst.options.compact,inst.options.significant,showSignificant):(inst.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(inst._hold?" "+this._holdingClass:"")+'">'+showCompact(Y)+showCompact(O)+showCompact(W)+showCompact(D)+(show[H]?this._minDigits(inst,inst._periods[H],2):"")+(show[M]?(show[H]?inst.options.timeSeparator:"")+this._minDigits(inst,inst._periods[M],2):"")+(show[S]?(show[H]||show[M]?inst.options.timeSeparator:"")+this._minDigits(inst,inst._periods[S],2):""):'<span class="'+this._rowClass+" "+this._showClass+(inst.options.significant||showCount)+(inst._hold?" "+this._holdingClass:"")+'">'+showFull(Y)+showFull(O)+showFull(W)+showFull(D)+showFull(H)+showFull(M)+showFull(S))+"</span>"+(inst.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+inst.options.description+"</span>":"")},_buildLayout:function(inst,show,layout,compact,significant,showSignificant){for(var labels=inst.options[compact?"compactLabels":"labels"],whichLabels=inst.options.whichLabels||this._normalLabels,labelFor=function(index){return(inst.options[(compact?"compactLabels":"labels")+whichLabels(inst._periods[index])]||labels)[index]},digit=function(value,position){return inst.options.digits[Math.floor(value/position)%10]},subs={desc:inst.options.description,sep:inst.options.timeSeparator,yl:labelFor(Y),yn:this._minDigits(inst,inst._periods[Y],1),ynn:this._minDigits(inst,inst._periods[Y],2),ynnn:this._minDigits(inst,inst._periods[Y],3),y1:digit(inst._periods[Y],1),y10:digit(inst._periods[Y],10),y100:digit(inst._periods[Y],100),y1000:digit(inst._periods[Y],1e3),ol:labelFor(O),on:this._minDigits(inst,inst._periods[O],1),onn:this._minDigits(inst,inst._periods[O],2),onnn:this._minDigits(inst,inst._periods[O],3),o1:digit(inst._periods[O],1),o10:digit(inst._periods[O],10),o100:digit(inst._periods[O],100),o1000:digit(inst._periods[O],1e3),wl:labelFor(W),wn:this._minDigits(inst,inst._periods[W],1),wnn:this._minDigits(inst,inst._periods[W],2),wnnn:this._minDigits(inst,inst._periods[W],3),w1:digit(inst._periods[W],1),w10:digit(inst._periods[W],10),w100:digit(inst._periods[W],100),w1000:digit(inst._periods[W],1e3),dl:labelFor(D),dn:this._minDigits(inst,inst._periods[D],1),dnn:this._minDigits(inst,inst._periods[D],2),dnnn:this._minDigits(inst,inst._periods[D],3),d1:digit(inst._periods[D],1),d10:digit(inst._periods[D],10),d100:digit(inst._periods[D],100),d1000:digit(inst._periods[D],1e3),hl:labelFor(H),hn:this._minDigits(inst,inst._periods[H],1),hnn:this._minDigits(inst,inst._periods[H],2),hnnn:this._minDigits(inst,inst._periods[H],3),h1:digit(inst._periods[H],1),h10:digit(inst._periods[H],10),h100:digit(inst._periods[H],100),h1000:digit(inst._periods[H],1e3),ml:labelFor(M),mn:this._minDigits(inst,inst._periods[M],1),mnn:this._minDigits(inst,inst._periods[M],2),mnnn:this._minDigits(inst,inst._periods[M],3),m1:digit(inst._periods[M],1),m10:digit(inst._periods[M],10),m100:digit(inst._periods[M],100),m1000:digit(inst._periods[M],1e3),sl:labelFor(S),sn:this._minDigits(inst,inst._periods[S],1),snn:this._minDigits(inst,inst._periods[S],2),snnn:this._minDigits(inst,inst._periods[S],3),s1:digit(inst._periods[S],1),s10:digit(inst._periods[S],10),s100:digit(inst._periods[S],100),s1000:digit(inst._periods[S],1e3)},html=layout,i=Y;S>=i;i++){var period="yowdhms".charAt(i),re=new RegExp("\\{"+period+"<\\}([\\s\\S]*)\\{"+period+">\\}","g");html=html.replace(re,!significant&&show[i]||significant&&showSignificant[i]?"$1":"")}return $.each(subs,function(n,v){var re=new RegExp("\\{"+n+"\\}","g");html=html.replace(re,v)}),html},_minDigits:function(inst,value,len){return value=""+value,value.length>=len?this._translateDigits(inst,value):(value="0000000000"+value,this._translateDigits(inst,value.substr(value.length-len)))},_translateDigits:function(inst,value){return(""+value).replace(/[0-9]/g,function(digit){return inst.options.digits[digit]})},_determineShow:function(inst){var format=inst.options.format,show=[];return show[Y]=format.match("y")?"?":format.match("Y")?"!":null,show[O]=format.match("o")?"?":format.match("O")?"!":null,show[W]=format.match("w")?"?":format.match("W")?"!":null,show[D]=format.match("d")?"?":format.match("D")?"!":null,show[H]=format.match("h")?"?":format.match("H")?"!":null,show[M]=format.match("m")?"?":format.match("M")?"!":null,show[S]=format.match("s")?"?":format.match("S")?"!":null,show},_calculatePeriods:function(inst,show,significant,now){inst._now=now,inst._now.setMilliseconds(0);var until=new Date(inst._now.getTime());inst._since?now.getTime()<inst._since.getTime()?inst._now=now=until:now=inst._since:(until.setTime(inst._until.getTime()),now.getTime()>inst._until.getTime()&&(inst._now=now=until));var periods=[0,0,0,0,0,0,0];if(show[Y]||show[O]){var lastNow=plugin._getDaysInMonth(now.getFullYear(),now.getMonth()),lastUntil=plugin._getDaysInMonth(until.getFullYear(),until.getMonth()),sameDay=until.getDate()==now.getDate()||until.getDate()>=Math.min(lastNow,lastUntil)&&now.getDate()>=Math.min(lastNow,lastUntil),getSecs=function(date){return 60*(60*date.getHours()+date.getMinutes())+date.getSeconds()},months=Math.max(0,12*(until.getFullYear()-now.getFullYear())+until.getMonth()-now.getMonth()+(until.getDate()<now.getDate()&&!sameDay||sameDay&&getSecs(until)<getSecs(now)?-1:0));periods[Y]=show[Y]?Math.floor(months/12):0,periods[O]=show[O]?months-12*periods[Y]:0,now=new Date(now.getTime());var wasLastDay=now.getDate()==lastNow,lastDay=plugin._getDaysInMonth(now.getFullYear()+periods[Y],now.getMonth()+periods[O]);now.getDate()>lastDay&&now.setDate(lastDay),now.setFullYear(now.getFullYear()+periods[Y]),now.setMonth(now.getMonth()+periods[O]),wasLastDay&&now.setDate(lastDay)}var diff=Math.floor((until.getTime()-now.getTime())/1e3),extractPeriod=function(period,numSecs){periods[period]=show[period]?Math.floor(diff/numSecs):0,diff-=periods[period]*numSecs};if(extractPeriod(W,604800),extractPeriod(D,86400),extractPeriod(H,3600),extractPeriod(M,60),extractPeriod(S,1),diff>0&&!inst._since)for(var multiplier=[1,12,4.3482,7,24,60,60],lastShown=S,max=1,period=S;period>=Y;period--)show[period]&&(periods[lastShown]>=max&&(periods[lastShown]=0,diff=1),diff>0&&(periods[period]++,diff=0,lastShown=period,max=1)),max*=multiplier[period];if(significant)for(var period=Y;S>=period;period++)significant&&periods[period]?significant--:significant||(periods[period]=0);return periods}});var getters=["getTimes"];$.fn.countdown=function(options){var otherArgs=Array.prototype.slice.call(arguments,1);return isNotChained(options,otherArgs)?plugin["_"+options+"Plugin"].apply(plugin,[this[0]].concat(otherArgs)):this.each(function(){if("string"==typeof options){if(!plugin["_"+options+"Plugin"])throw"Unknown command: "+options;plugin["_"+options+"Plugin"].apply(plugin,[this].concat(otherArgs))}else plugin._attachPlugin(this,options||{})})};var plugin=$.countdown=new Countdown}(jQuery),function($){$.countdown.regional.dk={labels:["r","Mneder","Uger","Dage","Timer","Minutter","Sekunder"],labels1:["r","Mnad","Uge","Dag","Time","Minut","Sekund"],compactLabels:["","M","U","D"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1}}(jQuery),function(window,undefined){var document=window.document;!function(){var initializing=!1,fnTest=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.JRClass=function(){},JRClass.extend=function(prop){function JRClass(){!initializing&&this.init&&this.init.apply(this,arguments)}var _super=this.prototype;initializing=!0;var prototype=new this;initializing=!1;for(var name in prop)prototype[name]="function"==typeof prop[name]&&"function"==typeof _super[name]&&fnTest.test(prop[name])?function(name,fn){return function(){var tmp=this._super;this._super=_super[name];var ret=fn.apply(this,arguments);return this._super=tmp,ret}}(name,prop[name]):prop[name];return JRClass.prototype=prototype,JRClass.constructor=JRClass,JRClass.extend=arguments.callee,JRClass}}();var VideoJS=JRClass.extend({init:function(element,setOptions){this.video="string"==typeof element?document.getElementById(element):element,this.video.player=this,this.values={},this.elements={},this.options={autoplay:!1,preload:!0,useBuiltInControls:!1,controlsBelow:!1,controlsAtStart:!1,controlsHiding:!0,defaultVolume:.85,playerFallbackOrder:["html5","flash","links"],flashPlayer:"htmlObject",flashPlayerVersion:!1},"object"==typeof VideoJS.options&&_V_.merge(this.options,VideoJS.options),"object"==typeof setOptions&&_V_.merge(this.options,setOptions),this.getPreloadAttribute()!==undefined&&(this.options.preload=this.getPreloadAttribute()),this.getAutoplayAttribute()!==undefined&&(this.options.autoplay=this.getAutoplayAttribute()),this.box=this.video.parentNode,this.linksFallback=this.getLinksFallback(),this.hideLinksFallback(),this.each(this.options.playerFallbackOrder,function(playerType){return this[playerType+"Supported"]()?(this[playerType+"Init"](),!0):void 0}),this.activateElement(this,"player"),this.activateElement(this.box,"box")},behaviors:{},newBehavior:function(name,activate,functions){this.behaviors[name]=activate,this.extend(functions)},activateElement:function(element,behavior){"string"==typeof element&&(element=document.getElementById(element)),this.behaviors[behavior].call(this,element)},errors:[],warnings:[],warning:function(warning){this.warnings.push(warning),this.log(warning)},history:[],log:function(event){if(event){"string"==typeof event&&(event={type:event}),event.type&&this.history.push(event.type),this.history.length>=50&&this.history.shift();try{console.log(event.type)}catch(e){try{opera.postError(event.type)}catch(e){}}}},setLocalStorage:function(key,value){if(localStorage)try{localStorage[key]=value}catch(e){(22==e.code||1014==e.code)&&this.warning(VideoJS.warnings.localStorageFull)}},getPreloadAttribute:function(){if("function"==typeof this.video.hasAttribute&&this.video.hasAttribute("preload")){var preload=this.video.getAttribute("preload");return""===preload||"true"===preload?"auto":"false"===preload?"none":preload}},getAutoplayAttribute:function(){if("function"==typeof this.video.hasAttribute&&this.video.hasAttribute("autoplay")){var autoplay=this.video.getAttribute("autoplay");return"false"===autoplay?!1:!0}},bufferedPercent:function(){return this.duration()?this.buffered()[1]/this.duration():0},each:function(arr,fn){if(arr&&0!==arr.length)for(var i=0,j=arr.length;j>i&&!fn.call(this,arr[i],i);i++);},extend:function(obj){for(var attrname in obj)obj.hasOwnProperty(attrname)&&(this[attrname]=obj[attrname])}});VideoJS.player=VideoJS.prototype,VideoJS.player.extend({flashSupported:function(){return this.flashElement||(this.flashElement=this.getFlashElement()),this.flashElement&&this.flashPlayerVersionSupported()?!0:!1},flashInit:function(){this.replaceWithFlash(),this.element=this.flashElement,this.video.src="";var flashPlayerType=VideoJS.flashPlayers[this.options.flashPlayer];this.extend(VideoJS.flashPlayers[this.options.flashPlayer].api),flashPlayerType.init.context(this)()},getFlashElement:function(){for(var children=this.video.children,i=0,j=children.length;j>i;i++)if("vjs-flash-fallback"==children[i].className)return children[i]},replaceWithFlash:function(){this.flashElement&&(this.box.insertBefore(this.flashElement,this.video),this.video.style.display="none")},flashPlayerVersionSupported:function(){var playerVersion=this.options.flashPlayerVersion?this.options.flashPlayerVersion:VideoJS.flashPlayers[this.options.flashPlayer].flashPlayerVersion;return VideoJS.getFlashVersion()>=playerVersion}}),VideoJS.flashPlayers={},VideoJS.flashPlayers.htmlObject={flashPlayerVersion:9,init:function(){return!0},api:{width:function(width){return width!==undefined?(this.element.width=width,this.box.style.width=width+"px",this.triggerResizeListeners(),this):this.element.width},height:function(height){return height!==undefined?(this.element.height=height,this.box.style.height=height+"px",this.triggerResizeListeners(),this):this.element.height}}},VideoJS.player.extend({linksSupported:function(){return!0},linksInit:function(){this.showLinksFallback(),this.element=this.video},getLinksFallback:function(){return this.box.getElementsByTagName("P")[0]},hideLinksFallback:function(){this.linksFallback&&(this.linksFallback.style.display="none")},showLinksFallback:function(){this.linksFallback&&(this.linksFallback.style.display="block")}}),VideoJS.merge=function(obj1,obj2,safe){for(var attrname in obj2)!obj2.hasOwnProperty(attrname)||safe&&obj1.hasOwnProperty(attrname)||(obj1[attrname]=obj2[attrname]);return obj1},VideoJS.extend=function(obj){this.merge(this,obj,!0)},VideoJS.extend({setupAllWhenReady:function(options){VideoJS.options=options,VideoJS.DOMReady(VideoJS.setup)},DOMReady:function(fn){VideoJS.addToDOMReady(fn)},setup:function(videos,options){var videoElement,returnSingular=!1,playerList=[];videos&&"All"!=videos?("object"!=typeof videos||1==videos.nodeType)&&(videos=[videos],returnSingular=!0):videos=VideoJS.getVideoJSTags();for(var i=0;i<videos.length;i++)videoElement="string"==typeof videos[i]?document.getElementById(videos[i]):videos[i],playerList.push(new VideoJS(videoElement,options));return returnSingular?playerList[0]:playerList},getVideoJSTags:function(){for(var videoTag,videoTags=document.getElementsByTagName("video"),videoJSTags=[],i=0,j=videoTags.length;j>i;i++)videoTag=videoTags[i],-1!=videoTag.className.indexOf("video-js")&&videoJSTags.push(videoTag);return videoJSTags},browserSupportsVideo:function(){return"undefined"!=typeof VideoJS.videoSupport?VideoJS.videoSupport:(VideoJS.videoSupport=!!document.createElement("video").canPlayType,VideoJS.videoSupport)},getFlashVersion:function(){if("undefined"!=typeof VideoJS.flashVersion)return VideoJS.flashVersion;var desc,version=0;if("undefined"!=typeof navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"])desc=navigator.plugins["Shockwave Flash"].description,!desc||"undefined"!=typeof navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]&&!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(version=parseInt(desc.match(/^.*\s+([^\s]+)\.[^\s]+\s+[^\s]+$/)[1],10));else if("undefined"!=typeof window.ActiveXObject)try{var testObject=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");testObject&&(version=parseInt(testObject.GetVariable("$version").match(/^[^\s]+\s(\d+)/)[1],10))}catch(e){}return VideoJS.flashVersion=version,VideoJS.flashVersion},isIE:function(){return!1},isIPad:function(){return null!==navigator.userAgent.match(/iPad/i)},isIPhone:function(){return null!==navigator.userAgent.match(/iPhone/i)},isIOS:function(){return VideoJS.isIPhone()||VideoJS.isIPad()
},iOSVersion:function(){var match=navigator.userAgent.match(/OS (\d+)_/i);return match&&match[1]?match[1]:void 0},isAndroid:function(){return null!==navigator.userAgent.match(/Android/i)},androidVersion:function(){var match=navigator.userAgent.match(/Android (\d+)\./i);return match&&match[1]?match[1]:void 0},warnings:{videoNotReady:"Video is not ready yet (try playing the video first).",localStorageFull:"Local Storage is Full"}}),VideoJS.isIE()&&document.createElement("video"),window.VideoJS=window._V_=VideoJS,VideoJS.player.extend({html5Supported:function(){return VideoJS.browserSupportsVideo()&&this.canPlaySource()?!0:!1},html5Init:function(){this.element=this.video,this.fixPreloading(),this.supportProgressEvents(),this.volume(localStorage&&localStorage.volume||this.options.defaultVolume),VideoJS.isIOS()?(this.options.useBuiltInControls=!0,this.iOSInterface()):VideoJS.isAndroid()&&(this.options.useBuiltInControls=!0,this.androidInterface()),this.options.useBuiltInControls||(this.video.controls=!1,this.options.controlsBelow&&_V_.addClass(this.box,"vjs-controls-below"),this.activateElement(this.video,"playToggle"),this.buildStylesCheckDiv(),this.buildAndActivatePoster(),this.buildBigPlayButton(),this.buildAndActivateSpinner(),this.buildAndActivateControlBar(),this.loadInterface(),this.getSubtitles())},canPlaySource:function(){if(this.canPlaySourceResult)return this.canPlaySourceResult;for(var children=this.video.children,i=0,j=children.length;j>i;i++)if("SOURCE"==children[i].tagName.toUpperCase()){var canPlay=this.video.canPlayType(children[i].type)||this.canPlayExt(children[i].src);if("probably"==canPlay||"maybe"==canPlay)return this.firstPlayableSource=children[i],this.canPlaySourceResult=!0,!0}return this.canPlaySourceResult=!1,!1},canPlayExt:function(src){if(!src)return"";var match=src.match(/\.([^\.]+)$/);if(match&&match[1]){var ext=match[1].toLowerCase();if(VideoJS.isAndroid()){if("mp4"==ext||"m4v"==ext)return"maybe"}else if(VideoJS.isIOS()&&"m3u8"==ext)return"maybe"}return""},forceTheSource:function(){this.video.src=this.firstPlayableSource.src,this.video.load()},fixPreloading:function(){"function"==typeof this.video.hasAttribute&&this.video.hasAttribute("preload")&&"none"!=this.video.preload?this.video.autobuffer=!0:(this.video.autobuffer=!1,this.video.preload="none")},supportProgressEvents:function(){_V_.addListener(this.video,"progress",this.playerOnVideoProgress.context(this))},playerOnVideoProgress:function(event){this.setBufferedFromProgress(event)},setBufferedFromProgress:function(event){if(event.total>0){var newBufferEnd=event.loaded/event.total*this.duration();newBufferEnd>this.values.bufferEnd&&(this.values.bufferEnd=newBufferEnd)}},iOSInterface:function(){VideoJS.iOSVersion()<4&&this.forceTheSource(),VideoJS.isIPad()&&this.buildAndActivateSpinner()},androidInterface:function(){this.forceTheSource(),_V_.addListener(this.video,"click",function(){this.play()}),this.buildBigPlayButton(),_V_.addListener(this.bigPlayButton,"click",function(){this.play()}.context(this)),this.positionBox(),this.showBigPlayButtons()},loadInterface:function(){return!this.stylesHaveLoaded()&&(this.positionRetries||(this.positionRetries=1),this.positionRetries++<100)?void setTimeout(this.loadInterface.context(this),10):(this.hideStylesCheckDiv(),this.showPoster(),this.video.paused!==!1&&this.showBigPlayButtons(),this.options.controlsAtStart&&this.showControlBars(),void this.positionAll())},buildAndActivateControlBar:function(){this.controls=_V_.createElement("div",{className:"vjs-controls"}),this.box.appendChild(this.controls),this.activateElement(this.controls,"controlBar"),this.activateElement(this.controls,"mouseOverVideoReporter"),this.playControl=_V_.createElement("div",{className:"vjs-play-control",innerHTML:"<span></span>"}),this.controls.appendChild(this.playControl),this.activateElement(this.playControl,"playToggle"),this.progressControl=_V_.createElement("div",{className:"vjs-progress-control"}),this.controls.appendChild(this.progressControl),this.progressHolder=_V_.createElement("div",{className:"vjs-progress-holder"}),this.progressControl.appendChild(this.progressHolder),this.activateElement(this.progressHolder,"currentTimeScrubber"),this.loadProgressBar=_V_.createElement("div",{className:"vjs-load-progress"}),this.progressHolder.appendChild(this.loadProgressBar),this.activateElement(this.loadProgressBar,"loadProgressBar"),this.playProgressBar=_V_.createElement("div",{className:"vjs-play-progress"}),this.progressHolder.appendChild(this.playProgressBar),this.activateElement(this.playProgressBar,"playProgressBar"),this.timeControl=_V_.createElement("div",{className:"vjs-time-control"}),this.controls.appendChild(this.timeControl),this.currentTimeDisplay=_V_.createElement("span",{className:"vjs-current-time-display",innerHTML:"00:00"}),this.timeControl.appendChild(this.currentTimeDisplay),this.activateElement(this.currentTimeDisplay,"currentTimeDisplay"),this.timeSeparator=_V_.createElement("span",{innerHTML:" / "}),this.timeControl.appendChild(this.timeSeparator),this.durationDisplay=_V_.createElement("span",{className:"vjs-duration-display",innerHTML:"00:00"}),this.timeControl.appendChild(this.durationDisplay),this.activateElement(this.durationDisplay,"durationDisplay"),this.volumeControl=_V_.createElement("div",{className:"vjs-volume-control",innerHTML:"<div><span></span><span></span><span></span><span></span><span></span><span></span></div>"}),this.controls.appendChild(this.volumeControl),this.activateElement(this.volumeControl,"volumeScrubber"),this.volumeDisplay=this.volumeControl.children[0],this.activateElement(this.volumeDisplay,"volumeDisplay"),this.fullscreenControl=_V_.createElement("div",{className:"vjs-fullscreen-control",innerHTML:"<div><span></span><span></span><span></span><span></span></div>"}),this.controls.appendChild(this.fullscreenControl),this.activateElement(this.fullscreenControl,"fullscreenToggle")},buildAndActivatePoster:function(){this.updatePosterSource(),this.video.poster?(this.poster=document.createElement("img"),this.box.appendChild(this.poster),this.poster.src=this.video.poster,this.poster.className="vjs-poster",this.activateElement(this.poster,"poster")):this.poster=!1},buildBigPlayButton:function(){this.bigPlayButton=_V_.createElement("div",{className:"vjs-big-play-button",innerHTML:"<span></span>"}),this.box.appendChild(this.bigPlayButton),this.activateElement(this.bigPlayButton,"bigPlayButton")},buildAndActivateSpinner:function(){this.spinner=_V_.createElement("div",{className:"vjs-spinner",innerHTML:"<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>"}),this.box.appendChild(this.spinner),this.activateElement(this.spinner,"spinner")},buildStylesCheckDiv:function(){this.stylesCheckDiv=_V_.createElement("div",{className:"vjs-styles-check"}),this.stylesCheckDiv.style.position="absolute",this.box.appendChild(this.stylesCheckDiv)},hideStylesCheckDiv:function(){this.stylesCheckDiv.style.display="none"},stylesHaveLoaded:function(){return 5!=this.stylesCheckDiv.offsetHeight?!1:!0},positionAll:function(){this.positionBox(),this.positionControlBars(),this.positionPoster()},positionBox:function(){this.videoIsFullScreen?(this.box.style.width="",this.element.style.height="",this.options.controlsBelow&&(this.box.style.height="",this.element.style.height=this.box.offsetHeight-this.controls.offsetHeight+"px")):(this.box.style.width=this.width()+"px",this.element.style.height=this.height()+"px",this.options.controlsBelow&&(this.element.style.height=""))},getSubtitles:function(){for(var tracks=this.video.getElementsByTagName("TRACK"),i=0,j=tracks.length;j>i;i++)"subtitles"==tracks[i].getAttribute("kind")&&tracks[i].getAttribute("src")&&(this.subtitlesSource=tracks[i].getAttribute("src"),this.loadSubtitles(),this.buildSubtitles())},loadSubtitles:function(){_V_.get(this.subtitlesSource,this.parseSubtitles.context(this))},parseSubtitles:function(subText){var subtitle,time,text,lines=subText.split("\n"),line="";this.subtitles=[],this.currentSubtitle=!1,this.lastSubtitleIndex=0;for(var i=0;i<lines.length;i++)if(line=_V_.trim(lines[i])){subtitle={id:line,index:this.subtitles.length},line=_V_.trim(lines[++i]),time=line.split(" --> "),subtitle.start=this.parseSubtitleTime(time[0]),subtitle.end=this.parseSubtitleTime(time[1]),text=[];for(var j=i;j<lines.length&&(line=_V_.trim(lines[++i]),line);j++)text.push(line);subtitle.text=text.join("<br/>"),this.subtitles.push(subtitle)}},parseSubtitleTime:function(timeText){var parts=timeText.split(":"),time=0;time+=60*parseFloat(parts[0])*60,time+=60*parseFloat(parts[1]);var seconds=parts[2].split(/\.|,/);return time+=parseFloat(seconds[0]),ms=parseFloat(seconds[1]),ms&&(time+=ms/1e3),time},buildSubtitles:function(){this.subtitlesDisplay=_V_.createElement("div",{className:"vjs-subtitles"}),this.box.appendChild(this.subtitlesDisplay),this.activateElement(this.subtitlesDisplay,"subtitlesDisplay")},addVideoListener:function(type,fn){_V_.addListener(this.video,type,fn.rEvtContext(this))},play:function(){return this.video.play(),this},onPlay:function(fn){return this.addVideoListener("play",fn),this},pause:function(){return this.video.pause(),this},onPause:function(fn){return this.addVideoListener("pause",fn),this},paused:function(){return this.video.paused},currentTime:function(seconds){if(seconds!==undefined){try{this.video.currentTime=seconds}catch(e){this.warning(VideoJS.warnings.videoNotReady)}return this.values.currentTime=seconds,this}return this.video.currentTime},onCurrentTimeUpdate:function(fn){this.currentTimeListeners.push(fn)},duration:function(){return this.video.duration},buffered:function(){if(this.values.bufferStart===undefined&&(this.values.bufferStart=0,this.values.bufferEnd=0),this.video.buffered&&this.video.buffered.length>0){var newEnd=this.video.buffered.end(0);newEnd>this.values.bufferEnd&&(this.values.bufferEnd=newEnd)}return[this.values.bufferStart,this.values.bufferEnd]},volume:function(percentAsDecimal){return percentAsDecimal!==undefined?(this.values.volume=Math.max(0,Math.min(1,parseFloat(percentAsDecimal))),this.video.volume=this.values.volume,this.setLocalStorage("volume",this.values.volume),this):this.values.volume?this.values.volume:this.video.volume},onVolumeChange:function(fn){_V_.addListener(this.video,"volumechange",fn.rEvtContext(this))},width:function(width){return width!==undefined?(this.video.width=width,this.box.style.width=width+"px",this.triggerResizeListeners(),this):this.video.offsetWidth},height:function(height){return height!==undefined?(this.video.height=height,this.box.style.height=height+"px",this.triggerResizeListeners(),this):this.video.offsetHeight},supportsFullScreen:function(){return"function"!=typeof this.video.webkitEnterFullScreen||navigator.userAgent.match("Chrome")||navigator.userAgent.match("Mac OS X 10.5")?!1:!0},html5EnterNativeFullScreen:function(){try{this.video.webkitEnterFullScreen()}catch(e){11==e.code&&this.warning(VideoJS.warnings.videoNotReady)}return this},enterFullScreen:function(){this.supportsFullScreen()?this.html5EnterNativeFullScreen():this.enterFullWindow()},exitFullScreen:function(){this.supportsFullScreen()||this.exitFullWindow()},enterFullWindow:function(){this.videoIsFullScreen=!0,this.docOrigOverflow=document.documentElement.style.overflow,_V_.addListener(document,"keydown",this.fullscreenOnEscKey.rEvtContext(this)),_V_.addListener(window,"resize",this.fullscreenOnWindowResize.rEvtContext(this)),document.documentElement.style.overflow="hidden",_V_.addClass(this.box,"vjs-fullscreen"),this.positionAll()},exitFullWindow:function(){this.videoIsFullScreen=!1,document.removeEventListener("keydown",this.fullscreenOnEscKey,!1),window.removeEventListener("resize",this.fullscreenOnWindowResize,!1),document.documentElement.style.overflow=this.docOrigOverflow,_V_.removeClass(this.box,"vjs-fullscreen"),this.positionAll()},onError:function(fn){return this.addVideoListener("error",fn),this},onEnded:function(fn){return this.addVideoListener("ended",fn),this}}),VideoJS.player.newBehavior("player",function(){this.onError(this.playerOnVideoError),this.onPlay(this.playerOnVideoPlay),this.onPlay(this.trackCurrentTime),this.onPause(this.playerOnVideoPause),this.onPause(this.stopTrackingCurrentTime),this.onEnded(this.playerOnVideoEnded),this.trackBuffered(),this.onBufferedUpdate(this.isBufferFull)},{playerOnVideoError:function(event){this.log(event),this.log(this.video.error)},playerOnVideoPlay:function(){this.hasPlayed=!0},playerOnVideoPause:function(){},playerOnVideoEnded:function(){this.currentTime(0),this.pause()},trackBuffered:function(){this.bufferedInterval=setInterval(this.triggerBufferedListeners.context(this),500)},stopTrackingBuffered:function(){clearInterval(this.bufferedInterval)},bufferedListeners:[],onBufferedUpdate:function(fn){this.bufferedListeners.push(fn)},triggerBufferedListeners:function(){this.isBufferFull(),this.each(this.bufferedListeners,function(listener){listener.context(this)()})},isBufferFull:function(){1==this.bufferedPercent()&&this.stopTrackingBuffered()},trackCurrentTime:function(){this.currentTimeInterval&&clearInterval(this.currentTimeInterval),this.currentTimeInterval=setInterval(this.triggerCurrentTimeListeners.context(this),100),this.trackingCurrentTime=!0},stopTrackingCurrentTime:function(){clearInterval(this.currentTimeInterval),this.trackingCurrentTime=!1},currentTimeListeners:[],triggerCurrentTimeListeners:function(late,newTime){this.each(this.currentTimeListeners,function(listener){listener.context(this)(newTime||this.currentTime())})},resizeListeners:[],onResize:function(fn){this.resizeListeners.push(fn)},triggerResizeListeners:function(){this.each(this.resizeListeners,function(listener){listener.context(this)()})}}),VideoJS.player.newBehavior("mouseOverVideoReporter",function(element){_V_.addListener(element,"mousemove",this.mouseOverVideoReporterOnMouseMove.context(this)),_V_.addListener(element,"mouseout",this.mouseOverVideoReporterOnMouseOut.context(this))},{mouseOverVideoReporterOnMouseMove:function(){this.showControlBars(),clearInterval(this.mouseMoveTimeout),this.mouseMoveTimeout=setTimeout(this.hideControlBars.context(this),4e3)},mouseOverVideoReporterOnMouseOut:function(event){for(var parent=event.relatedTarget;parent&&parent!==this.box;)parent=parent.parentNode;parent!==this.box&&this.hideControlBars()}}),VideoJS.player.newBehavior("box",function(element){this.positionBox(),_V_.addClass(element,"vjs-paused"),this.activateElement(element,"mouseOverVideoReporter"),this.onPlay(this.boxOnVideoPlay),this.onPause(this.boxOnVideoPause)},{boxOnVideoPlay:function(){_V_.removeClass(this.box,"vjs-paused"),_V_.addClass(this.box,"vjs-playing")},boxOnVideoPause:function(){_V_.removeClass(this.box,"vjs-playing"),_V_.addClass(this.box,"vjs-paused")}}),VideoJS.player.newBehavior("poster",function(element){this.activateElement(element,"mouseOverVideoReporter"),this.activateElement(element,"playButton"),this.onPlay(this.hidePoster),this.onEnded(this.showPoster),this.onResize(this.positionPoster)},{showPoster:function(){this.poster&&(this.poster.style.display="block",this.positionPoster())},positionPoster:function(){this.poster&&"none"!=this.poster.style.display&&(this.poster.style.height=this.height()+"px",this.poster.style.width=this.width()+"px")},hidePoster:function(){this.poster&&(this.poster.style.display="none")},updatePosterSource:function(){if(!this.video.poster){var images=this.video.getElementsByTagName("img");images.length>0&&(this.video.poster=images[0].src)}}}),VideoJS.player.newBehavior("controlBar",function(element){this.controlBars||(this.controlBars=[],this.onResize(this.positionControlBars)),this.controlBars.push(element),_V_.addListener(element,"mousemove",this.onControlBarsMouseMove.context(this)),_V_.addListener(element,"mouseout",this.onControlBarsMouseOut.context(this))},{showControlBars:function(){(this.options.controlsAtStart||this.hasPlayed)&&this.each(this.controlBars,function(bar){bar.style.display="block"})},positionControlBars:function(){this.updatePlayProgressBars(),this.updateLoadProgressBars()},hideControlBars:function(){this.options.controlsHiding&&!this.mouseIsOverControls&&this.each(this.controlBars,function(bar){bar.style.display="none"})},onControlBarsMouseMove:function(){this.mouseIsOverControls=!0},onControlBarsMouseOut:function(){this.mouseIsOverControls=!1}}),VideoJS.player.newBehavior("playToggle",function(element){this.elements.playToggles||(this.elements.playToggles=[],this.onPlay(this.playTogglesOnPlay),this.onPause(this.playTogglesOnPause)),this.elements.playToggles.push(element),_V_.addListener(element,"click",this.onPlayToggleClick.context(this))},{onPlayToggleClick:function(){this.paused()?this.play():this.pause()},playTogglesOnPlay:function(){this.each(this.elements.playToggles,function(toggle){_V_.removeClass(toggle,"vjs-paused"),_V_.addClass(toggle,"vjs-playing")})},playTogglesOnPause:function(){this.each(this.elements.playToggles,function(toggle){_V_.removeClass(toggle,"vjs-playing"),_V_.addClass(toggle,"vjs-paused")})}}),VideoJS.player.newBehavior("playButton",function(element){_V_.addListener(element,"click",this.onPlayButtonClick.context(this))},{onPlayButtonClick:function(){this.play()}}),VideoJS.player.newBehavior("pauseButton",function(element){_V_.addListener(element,"click",this.onPauseButtonClick.context(this))},{onPauseButtonClick:function(){this.pause()}}),VideoJS.player.newBehavior("playProgressBar",function(element){this.playProgressBars||(this.playProgressBars=[],this.onCurrentTimeUpdate(this.updatePlayProgressBars)),this.playProgressBars.push(element)},{updatePlayProgressBars:function(newTime){var progress=newTime!==undefined?newTime/this.duration():this.currentTime()/this.duration();isNaN(progress)&&(progress=0),this.each(this.playProgressBars,function(bar){bar.style&&(bar.style.width=_V_.round(100*progress,2)+"%")})}}),VideoJS.player.newBehavior("loadProgressBar",function(element){this.loadProgressBars||(this.loadProgressBars=[]),this.loadProgressBars.push(element),this.onBufferedUpdate(this.updateLoadProgressBars)},{updateLoadProgressBars:function(){this.each(this.loadProgressBars,function(bar){bar.style&&(bar.style.width=_V_.round(100*this.bufferedPercent(),2)+"%")})}}),VideoJS.player.newBehavior("currentTimeDisplay",function(element){this.currentTimeDisplays||(this.currentTimeDisplays=[],this.onCurrentTimeUpdate(this.updateCurrentTimeDisplays)),this.currentTimeDisplays.push(element)},{updateCurrentTimeDisplays:function(newTime){if(this.currentTimeDisplays){var time=newTime?newTime:this.currentTime();this.each(this.currentTimeDisplays,function(dis){dis.innerHTML=_V_.formatTime(time)})}}}),VideoJS.player.newBehavior("durationDisplay",function(element){this.durationDisplays||(this.durationDisplays=[],this.onCurrentTimeUpdate(this.updateDurationDisplays)),this.durationDisplays.push(element)},{updateDurationDisplays:function(){this.durationDisplays&&this.each(this.durationDisplays,function(dis){this.duration()&&(dis.innerHTML=_V_.formatTime(this.duration()))})}}),VideoJS.player.newBehavior("currentTimeScrubber",function(element){_V_.addListener(element,"mousedown",this.onCurrentTimeScrubberMouseDown.rEvtContext(this))},{onCurrentTimeScrubberMouseDown:function(event,scrubber){event.preventDefault(),this.currentScrubber=scrubber,this.stopTrackingCurrentTime(),this.videoWasPlaying=!this.paused(),this.pause(),_V_.blockTextSelection(),this.setCurrentTimeWithScrubber(event),_V_.addListener(document,"mousemove",this.onCurrentTimeScrubberMouseMove.rEvtContext(this)),_V_.addListener(document,"mouseup",this.onCurrentTimeScrubberMouseUp.rEvtContext(this))},onCurrentTimeScrubberMouseMove:function(event){this.setCurrentTimeWithScrubber(event)},onCurrentTimeScrubberMouseUp:function(){_V_.unblockTextSelection(),document.removeEventListener("mousemove",this.onCurrentTimeScrubberMouseMove,!1),document.removeEventListener("mouseup",this.onCurrentTimeScrubberMouseUp,!1),this.videoWasPlaying&&(this.play(),this.trackCurrentTime())},setCurrentTimeWithScrubber:function(event){var newProgress=_V_.getRelativePosition(event.pageX,this.currentScrubber),newTime=newProgress*this.duration();this.triggerCurrentTimeListeners(0,newTime),newTime==this.duration()&&(newTime-=.1),this.currentTime(newTime)}}),VideoJS.player.newBehavior("volumeDisplay",function(element){this.volumeDisplays||(this.volumeDisplays=[],this.onVolumeChange(this.updateVolumeDisplays)),this.volumeDisplays.push(element),this.updateVolumeDisplay(element)},{updateVolumeDisplays:function(){this.volumeDisplays&&this.each(this.volumeDisplays,function(dis){this.updateVolumeDisplay(dis)})},updateVolumeDisplay:function(display){var volNum=Math.ceil(6*this.volume());this.each(display.children,function(child,num){volNum>num?_V_.addClass(child,"vjs-volume-level-on"):_V_.removeClass(child,"vjs-volume-level-on")})}}),VideoJS.player.newBehavior("volumeScrubber",function(element){_V_.addListener(element,"mousedown",this.onVolumeScrubberMouseDown.rEvtContext(this))},{onVolumeScrubberMouseDown:function(event,scrubber){_V_.blockTextSelection(),this.currentScrubber=scrubber,this.setVolumeWithScrubber(event),_V_.addListener(document,"mousemove",this.onVolumeScrubberMouseMove.rEvtContext(this)),_V_.addListener(document,"mouseup",this.onVolumeScrubberMouseUp.rEvtContext(this))},onVolumeScrubberMouseMove:function(event){this.setVolumeWithScrubber(event)},onVolumeScrubberMouseUp:function(event){this.setVolumeWithScrubber(event),_V_.unblockTextSelection(),document.removeEventListener("mousemove",this.onVolumeScrubberMouseMove,!1),document.removeEventListener("mouseup",this.onVolumeScrubberMouseUp,!1)},setVolumeWithScrubber:function(event){var newVol=_V_.getRelativePosition(event.pageX,this.currentScrubber);this.volume(newVol)}}),VideoJS.player.newBehavior("fullscreenToggle",function(element){_V_.addListener(element,"click",this.onFullscreenToggleClick.context(this))},{onFullscreenToggleClick:function(){this.videoIsFullScreen?this.exitFullScreen():this.enterFullScreen()},fullscreenOnWindowResize:function(){this.positionControlBars()},fullscreenOnEscKey:function(event){27==event.keyCode&&this.exitFullScreen()}}),VideoJS.player.newBehavior("bigPlayButton",function(element){this.elements.bigPlayButtons||(this.elements.bigPlayButtons=[],this.onPlay(this.bigPlayButtonsOnPlay),this.onEnded(this.bigPlayButtonsOnEnded)),this.elements.bigPlayButtons.push(element),this.activateElement(element,"playButton")},{bigPlayButtonsOnPlay:function(){this.hideBigPlayButtons()},bigPlayButtonsOnEnded:function(){this.showBigPlayButtons()},showBigPlayButtons:function(){this.each(this.elements.bigPlayButtons,function(element){element.style.display="block"})},hideBigPlayButtons:function(){this.each(this.elements.bigPlayButtons,function(element){element.style.display="none"})}}),VideoJS.player.newBehavior("spinner",function(element){this.spinners||(this.spinners=[],_V_.addListener(this.video,"loadeddata",this.spinnersOnVideoLoadedData.context(this)),_V_.addListener(this.video,"loadstart",this.spinnersOnVideoLoadStart.context(this)),_V_.addListener(this.video,"seeking",this.spinnersOnVideoSeeking.context(this)),_V_.addListener(this.video,"seeked",this.spinnersOnVideoSeeked.context(this)),_V_.addListener(this.video,"canplay",this.spinnersOnVideoCanPlay.context(this)),_V_.addListener(this.video,"canplaythrough",this.spinnersOnVideoCanPlayThrough.context(this)),_V_.addListener(this.video,"waiting",this.spinnersOnVideoWaiting.context(this)),_V_.addListener(this.video,"stalled",this.spinnersOnVideoStalled.context(this)),_V_.addListener(this.video,"suspend",this.spinnersOnVideoSuspend.context(this)),_V_.addListener(this.video,"playing",this.spinnersOnVideoPlaying.context(this)),_V_.addListener(this.video,"timeupdate",this.spinnersOnVideoTimeUpdate.context(this))),this.spinners.push(element)},{showSpinners:function(){this.each(this.spinners,function(spinner){spinner.style.display="block"}),clearInterval(this.spinnerInterval),this.spinnerInterval=setInterval(this.rotateSpinners.context(this),100)},hideSpinners:function(){this.each(this.spinners,function(spinner){spinner.style.display="none"}),clearInterval(this.spinnerInterval)},spinnersRotated:0,rotateSpinners:function(){this.each(this.spinners,function(spinner){spinner.style.WebkitTransform="scale(0.5) rotate("+this.spinnersRotated+"deg)",spinner.style.MozTransform="scale(0.5) rotate("+this.spinnersRotated+"deg)"}),360==this.spinnersRotated&&(this.spinnersRotated=0),this.spinnersRotated+=45},spinnersOnVideoLoadedData:function(){this.hideSpinners()},spinnersOnVideoLoadStart:function(){this.showSpinners()},spinnersOnVideoSeeking:function(){},spinnersOnVideoSeeked:function(){},spinnersOnVideoCanPlay:function(){},spinnersOnVideoCanPlayThrough:function(){this.hideSpinners()},spinnersOnVideoWaiting:function(){this.showSpinners()},spinnersOnVideoStalled:function(){},spinnersOnVideoSuspend:function(){},spinnersOnVideoPlaying:function(){this.hideSpinners()},spinnersOnVideoTimeUpdate:function(){"block"==this.spinner.style.display&&this.hideSpinners()}}),VideoJS.player.newBehavior("subtitlesDisplay",function(element){this.subtitleDisplays||(this.subtitleDisplays=[],this.onCurrentTimeUpdate(this.subtitleDisplaysOnVideoTimeUpdate),this.onEnded(function(){this.lastSubtitleIndex=0}.context(this))),this.subtitleDisplays.push(element)},{subtitleDisplaysOnVideoTimeUpdate:function(time){if(this.subtitles&&(!this.currentSubtitle||this.currentSubtitle.start>=time||this.currentSubtitle.end<time)){for(var newSubIndex=!1,reverse=this.subtitles[this.lastSubtitleIndex].start>time,i=this.lastSubtitleIndex-reverse?1:0;;)if(reverse){if(0>i||this.subtitles[i].end<time)break;if(this.subtitles[i].start<time){newSubIndex=i;break}i--}else{if(i>=this.subtitles.length||this.subtitles[i].start>time)break;if(this.subtitles[i].end>time){newSubIndex=i;break}i++}newSubIndex!==!1?(this.currentSubtitle=this.subtitles[newSubIndex],this.lastSubtitleIndex=newSubIndex,this.updateSubtitleDisplays(this.currentSubtitle.text)):this.currentSubtitle&&(this.currentSubtitle=!1,this.updateSubtitleDisplays(""))}},updateSubtitleDisplays:function(val){this.each(this.subtitleDisplays,function(disp){disp.innerHTML=val})}}),VideoJS.extend({addClass:function(element,classToAdd){-1==(" "+element.className+" ").indexOf(" "+classToAdd+" ")&&(element.className=""===element.className?classToAdd:element.className+" "+classToAdd)},removeClass:function(element,classToRemove){if(-1!=element.className.indexOf(classToRemove)){var classNames=element.className.split(/\s+/);classNames.splice(classNames.lastIndexOf(classToRemove),1),element.className=classNames.join(" ")}},createElement:function(tagName,attributes){return this.merge(document.createElement(tagName),attributes)},blockTextSelection:function(){document.body.focus(),document.onselectstart=function(){return!1}},unblockTextSelection:function(){document.onselectstart=function(){return!0}},formatTime:function(secs){var seconds=Math.round(secs),minutes=Math.floor(seconds/60);return minutes=minutes>=10?minutes:"0"+minutes,seconds=Math.floor(seconds%60),seconds=seconds>=10?seconds:"0"+seconds,minutes+":"+seconds},getRelativePosition:function(x,relativeElement){return Math.max(0,Math.min(1,(x-this.findPosX(relativeElement))/relativeElement.offsetWidth))},findPosX:function(obj){for(var curleft=obj.offsetLeft;obj=obj.offsetParent;)curleft+=obj.offsetLeft;return curleft},getComputedStyleValue:function(element,style){return window.getComputedStyle(element,null).getPropertyValue(style)},round:function(num,dec){return dec||(dec=0),Math.round(num*Math.pow(10,dec))/Math.pow(10,dec)},addListener:function(element,type,handler){element.addEventListener?element.addEventListener(type,handler,!1):element.attachEvent&&element.attachEvent("on"+type,handler)},removeListener:function(element,type,handler){element.removeEventListener?element.removeEventListener(type,handler,!1):element.attachEvent&&element.detachEvent("on"+type,handler)},get:function(url,onSuccess){"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(f){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(g){}throw new Error("This browser does not support XMLHttpRequest.")});var request=new XMLHttpRequest;request.open("GET",url),request.onreadystatechange=function(){4==request.readyState&&200==request.status&&onSuccess(request.responseText)}.context(this),request.send()},trim:function(string){return string.toString().replace(/^\s+/,"").replace(/\s+$/,"")},bindDOMReady:function(){return"complete"===document.readyState?VideoJS.onDOMReady():void(document.addEventListener?(document.addEventListener("DOMContentLoaded",VideoJS.DOMContentLoaded,!1),window.addEventListener("load",VideoJS.onDOMReady,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",VideoJS.DOMContentLoaded),window.attachEvent("onload",VideoJS.onDOMReady)))},DOMContentLoaded:function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",VideoJS.DOMContentLoaded,!1),VideoJS.onDOMReady()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",VideoJS.DOMContentLoaded),VideoJS.onDOMReady())},DOMReadyList:[],addToDOMReady:function(fn){VideoJS.DOMIsReady?fn.call(document):VideoJS.DOMReadyList.push(fn)},DOMIsReady:!1,onDOMReady:function(){if(!VideoJS.DOMIsReady){if(!document.body)return setTimeout(VideoJS.onDOMReady,13);if(VideoJS.DOMIsReady=!0,VideoJS.DOMReadyList){for(var i=0;i<VideoJS.DOMReadyList.length;i++)VideoJS.DOMReadyList[i].call(document);VideoJS.DOMReadyList=null}}}}),VideoJS.bindDOMReady(),Function.prototype.context=function(obj){var method=this,temp=function(){return method.apply(obj,arguments)};return temp},Function.prototype.evtContext=function(obj){var method=this,temp=function(){var origContext=this;return method.call(obj,arguments[0],origContext)};return temp},Function.prototype.rEvtContext=function(obj,funcParent){if(this.hasContext===!0)return this;funcParent||(funcParent=obj);for(var attrname in funcParent)if(funcParent[attrname]==this)return funcParent[attrname]=this.evtContext(obj),funcParent[attrname].hasContext=!0,funcParent[attrname];return this.evtContext(obj)},window.jQuery&&!function($){$.fn.VideoJS=function(options){return this.each(function(){VideoJS.setup(this,options)}),this},$.fn.player=function(){return this[0].player}}(jQuery),window.VideoJS=window._V_=VideoJS}(window),window.JSON||(window.JSON={}),function(){function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,h,g=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,h=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)h[c]=str(c,i)||"null";return e=0===h.length?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)d=rep[c],"string"==typeof d&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));return e=0===h.length?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null
},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var JSON=window.JSON,cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,!b||"function"==typeof b||"object"==typeof b&&"number"==typeof b.length)return str("",{"":a});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(a,b){"use strict";var c=a.History=a.History||{},d=a.jQuery;if("undefined"!=typeof c.Adapter)throw new Error("History.js Adapter has already been loaded...");c.Adapter={bind:function(a,b,c){d(a).bind(b,c)},trigger:function(a,b,c){d(a).trigger(b,c)},extractEventData:function(a,c,d){var e=c&&c.originalEvent&&c.originalEvent[a]||d&&d[a]||b;return e},onDomLoad:function(a){d(a)}},"undefined"!=typeof c.init&&c.init()}(window),function(a){"use strict";var c=a.document,d=a.setTimeout||d,e=a.clearTimeout||e,f=a.setInterval||f,g=a.History=a.History||{};if("undefined"!=typeof g.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");g.initHtml4=function(){return"undefined"!=typeof g.initHtml4.initialized?!1:(g.initHtml4.initialized=!0,g.enabled=!0,g.savedHashes=[],g.isLastHash=function(a){var c,b=g.getHashByIndex();return c=a===b},g.saveHash=function(a){return g.isLastHash(a)?!1:(g.savedHashes.push(a),!0)},g.getHashByIndex=function(a){var b=null;return b="undefined"==typeof a?g.savedHashes[g.savedHashes.length-1]:0>a?g.savedHashes[g.savedHashes.length+a]:g.savedHashes[a]},g.discardedHashes={},g.discardedStates={},g.discardState=function(a,b,c){var e,d=g.getHashByState(a);return e={discardedState:a,backState:c,forwardState:b},g.discardedStates[d]=e,!0},g.discardHash=function(a,b,c){var d={discardedHash:a,backState:c,forwardState:b};return g.discardedHashes[a]=d,!0},g.discardedState=function(a){var c,b=g.getHashByState(a);return c=g.discardedStates[b]||!1},g.discardedHash=function(a){var b=g.discardedHashes[a]||!1;return b},g.recycleState=function(a){var b=g.getHashByState(a);return g.discardedState(a)&&delete g.discardedStates[b],!0},g.emulated.hashChange&&(g.hashChangeInit=function(){g.checkerFunction=null;var d,e,h,i,b="";return g.isInternetExplorer()?(d="historyjs-iframe",e=c.createElement("iframe"),e.setAttribute("id",d),e.style.display="none",c.body.appendChild(e),e.contentWindow.document.open(),e.contentWindow.document.close(),h="",i=!1,g.checkerFunction=function(){if(i)return!1;i=!0;var c=g.getHash()||"",d=g.unescapeHash(e.contentWindow.document.location.hash)||"";return c!==b?(b=c,d!==c&&(h=d=c,e.contentWindow.document.open(),e.contentWindow.document.close(),e.contentWindow.document.location.hash=g.escapeHash(c)),g.Adapter.trigger(a,"hashchange")):d!==h&&(h=d,g.setHash(d,!1)),i=!1,!0}):g.checkerFunction=function(){var c=g.getHash();return c!==b&&(b=c,g.Adapter.trigger(a,"hashchange")),!0},g.intervalList.push(f(g.checkerFunction,g.options.hashChangeInterval)),!0},g.Adapter.onDomLoad(g.hashChangeInit)),g.emulated.pushState&&(g.onHashChange=function(b){var j,d=b&&b.newURL||c.location.href,e=g.getHashByUrl(d),f=null,h=null;return g.isLastHash(e)?(g.busy(!1),!1):(g.doubleCheckComplete(),g.saveHash(e),e&&g.isTraditionalAnchor(e)?(g.Adapter.trigger(a,"anchorchange"),g.busy(!1),!1):(f=g.extractState(g.getFullUrl(e||c.location.href,!1),!0),g.isLastSavedState(f)?(g.busy(!1),!1):(h=g.getHashByState(f),j=g.discardedState(f),j?(g.getHashByIndex(-2)===g.getHashByState(j.forwardState)?g.back(!1):g.forward(!1),!1):(g.pushState(f.data,f.title,f.url,!1),!0))))},g.Adapter.bind(a,"hashchange",g.onHashChange),g.pushState=function(b,d,e,f){if(g.getHashByUrl(e))throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(f!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.pushState,args:arguments,queue:f}),!1;g.busy(!0);var h=g.createStateObject(b,d,e),i=g.getHashByState(h),j=g.getState(!1),k=g.getHashByState(j),l=g.getHash();return g.storeState(h),g.expectedStateId=h.id,g.recycleState(h),g.setTitle(h),i===k?(g.busy(!1),!1):i!==l&&i!==g.getShortUrl(c.location.href)?(g.setHash(i,!1),!1):(g.saveState(h),g.Adapter.trigger(a,"statechange"),g.busy(!1),!0)},g.replaceState=function(a,b,c,d){if(g.getHashByUrl(c))throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(d!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.replaceState,args:arguments,queue:d}),!1;g.busy(!0);var e=g.createStateObject(a,b,c),f=g.getState(!1),h=g.getStateByIndex(-2);return g.discardState(f,e,h),g.pushState(e.data,e.title,e.url,!1),!0}),g.emulated.pushState&&g.getHash()&&!g.emulated.hashChange&&g.Adapter.onDomLoad(function(){g.Adapter.trigger(a,"hashchange")}),void 0)},"undefined"!=typeof g.init&&g.init()}(window),function(a,b){"use strict";var c=a.console||b,d=a.document,e=a.navigator,f=a.sessionStorage||!1,g=a.setTimeout,h=a.clearTimeout,i=a.setInterval,j=a.clearInterval,k=a.JSON,l=a.alert,m=a.History=a.History||{},n=a.history;if(k.stringify=k.stringify||k.encode,k.parse=k.parse||k.decode,"undefined"!=typeof m.init)throw new Error("History.js Core has already been loaded...");m.init=function(){return"undefined"==typeof m.Adapter?!1:("undefined"!=typeof m.initCore&&m.initCore(),"undefined"!=typeof m.initHtml4&&m.initHtml4(),!0)},m.initCore=function(){if("undefined"!=typeof m.initCore.initialized)return!1;if(m.initCore.initialized=!0,m.options=m.options||{},m.options.hashChangeInterval=m.options.hashChangeInterval||100,m.options.safariPollInterval=m.options.safariPollInterval||500,m.options.doubleCheckInterval=m.options.doubleCheckInterval||500,m.options.storeInterval=m.options.storeInterval||1e3,m.options.busyDelay=m.options.busyDelay||250,m.options.debug=m.options.debug||!1,m.options.initialTitle=m.options.initialTitle||d.title,m.intervalList=[],m.clearAllIntervals=function(){var a,b=m.intervalList;if("undefined"!=typeof b&&null!==b){for(a=0;a<b.length;a++)j(b[a]);m.intervalList=null}},m.debug=function(){(m.options.debug||!1)&&m.log.apply(m,arguments)},m.log=function(){var e,f,g,h,i,a="undefined"!=typeof c&&"undefined"!=typeof c.log&&"undefined"!=typeof c.log.apply,b=d.getElementById("log");for(a?(h=Array.prototype.slice.call(arguments),e=h.shift(),"undefined"!=typeof c.debug?c.debug.apply(c,[e,h]):c.log.apply(c,[e,h])):e="\n"+arguments[0]+"\n",f=1,g=arguments.length;g>f;++f){if(i=arguments[f],"object"==typeof i&&"undefined"!=typeof k)try{i=k.stringify(i)}catch(j){}e+="\n"+i+"\n"}return b?(b.value+=e+"\n-----\n",b.scrollTop=b.scrollHeight-b.clientHeight):a||l(e),!0},m.getInternetExplorerMajorVersion=function(){var a=m.getInternetExplorerMajorVersion.cached="undefined"!=typeof m.getInternetExplorerMajorVersion.cached?m.getInternetExplorerMajorVersion.cached:function(){for(var a=3,b=d.createElement("div"),c=b.getElementsByTagName("i");(b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->")&&c[0];);return a>4?a:!1}();return a},m.isInternetExplorer=function(){var a=m.isInternetExplorer.cached="undefined"!=typeof m.isInternetExplorer.cached?m.isInternetExplorer.cached:Boolean(m.getInternetExplorerMajorVersion());return a},m.emulated={pushState:!Boolean(a.history&&a.history.pushState&&a.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(e.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(e.userAgent)),hashChange:Boolean(!("onhashchange"in a||"onhashchange"in d)||m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8)},m.enabled=!m.emulated.pushState,m.bugs={setHash:Boolean(!m.emulated.pushState&&"Apple Computer, Inc."===e.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),safariPoll:Boolean(!m.emulated.pushState&&"Apple Computer, Inc."===e.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),ieDoubleCheck:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<7)},m.isEmptyObject=function(a){for(var b in a)return!1;return!0},m.cloneObject=function(a){var b,c;return a?(b=k.stringify(a),c=k.parse(b)):c={},c},m.getRootUrl=function(){var a=d.location.protocol+"//"+(d.location.hostname||d.location.host);return d.location.port&&(a+=":"+d.location.port),a+="/"},m.getBaseHref=function(){var a=d.getElementsByTagName("base"),b=null,c="";return 1===a.length&&(b=a[0],c=b.href.replace(/[^\/]+$/,"")),c=c.replace(/\/+$/,""),c&&(c+="/"),c},m.getBaseUrl=function(){var a=m.getBaseHref()||m.getBasePageUrl()||m.getRootUrl();return a},m.getPageUrl=function(){var c,a=m.getState(!1,!1),b=(a||{}).url||d.location.href;return c=b.replace(/\/+$/,"").replace(/[^\/]+$/,function(a){return/\./.test(a)?a:a+"/"})},m.getBasePageUrl=function(){var a=d.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/";return a},m.getFullUrl=function(a,b){var c=a,d=a.substring(0,1);return b="undefined"==typeof b?!0:b,/[a-z]+\:\/\//.test(a)||(c="/"===d?m.getRootUrl()+a.replace(/^\/+/,""):"#"===d?m.getPageUrl().replace(/#.*/,"")+a:"?"===d?m.getPageUrl().replace(/[\?#].*/,"")+a:b?m.getBaseUrl()+a.replace(/^(\.\/)+/,""):m.getBasePageUrl()+a.replace(/^(\.\/)+/,"")),c.replace(/\#$/,"")},m.getShortUrl=function(a){var b=a,c=m.getBaseUrl(),d=m.getRootUrl();return m.emulated.pushState&&(b=b.replace(c,"")),b=b.replace(d,"/"),m.isTraditionalAnchor(b)&&(b="./"+b),b=b.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},m.store={},m.idToState=m.idToState||{},m.stateToId=m.stateToId||{},m.urlToId=m.urlToId||{},m.storedStates=m.storedStates||[],m.savedStates=m.savedStates||[],m.normalizeStore=function(){m.store.idToState=m.store.idToState||{},m.store.urlToId=m.store.urlToId||{},m.store.stateToId=m.store.stateToId||{}},m.getState=function(a,b){"undefined"==typeof a&&(a=!0),"undefined"==typeof b&&(b=!0);var c=m.getLastSavedState();return!c&&b&&(c=m.createStateObject()),a&&(c=m.cloneObject(c),c.url=c.cleanUrl||c.url),c},m.getIdByState=function(a){var c,b=m.extractId(a.url);if(!b)if(c=m.getStateString(a),"undefined"!=typeof m.stateToId[c])b=m.stateToId[c];else if("undefined"!=typeof m.store.stateToId[c])b=m.store.stateToId[c];else{for(;b=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof m.idToState[b]||"undefined"!=typeof m.store.idToState[b];);m.stateToId[c]=b,m.idToState[b]=a}return b},m.normalizeState=function(a){var b,c;return a&&"object"==typeof a||(a={}),"undefined"!=typeof a.normalized?a:(a.data&&"object"==typeof a.data||(a.data={}),b={},b.normalized=!0,b.title=a.title||"",b.url=m.getFullUrl(m.unescapeString(a.url||d.location.href)),b.hash=m.getShortUrl(b.url),b.data=m.cloneObject(a.data),b.id=m.getIdByState(b),b.cleanUrl=b.url.replace(/\??\&_suid.*/,""),b.url=b.cleanUrl,c=!m.isEmptyObject(b.data),(b.title||c)&&(b.hash=m.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||(b.hash+="?"),b.hash+="&_suid="+b.id),b.hashedUrl=m.getFullUrl(b.hash),(m.emulated.pushState||m.bugs.safariPoll)&&m.hasUrlDuplicate(b)&&(b.url=b.hashedUrl),b)},m.createStateObject=function(a,b,c){var d={data:a,title:b,url:c};return d=m.normalizeState(d)},m.getStateById=function(a){a=String(a);var c=m.idToState[a]||m.store.idToState[a]||b;return c},m.getStateString=function(a){var b,c,d;return b=m.normalizeState(a),c={data:b.data,title:a.title,url:a.url},d=k.stringify(c)},m.getStateId=function(a){var b,c;return b=m.normalizeState(a),c=b.id},m.getHashByState=function(a){var b,c;return b=m.normalizeState(a),c=b.hash},m.extractId=function(a){var b,c,d;return c=/(.*)\&_suid=([0-9]+)$/.exec(a),d=c?c[1]||a:a,b=c?String(c[2]||""):"",b||!1},m.isTraditionalAnchor=function(a){var b=!/[\/\?\.]/.test(a);return b},m.extractState=function(a,b){var d,e,c=null;return b=b||!1,d=m.extractId(a),d&&(c=m.getStateById(d)),c||(e=m.getFullUrl(a),d=m.getIdByUrl(e)||!1,d&&(c=m.getStateById(d)),!c&&b&&!m.isTraditionalAnchor(a)&&(c=m.createStateObject(null,null,e))),c},m.getIdByUrl=function(a){var c=m.urlToId[a]||m.store.urlToId[a]||b;return c},m.getLastSavedState=function(){return m.savedStates[m.savedStates.length-1]||b},m.getLastStoredState=function(){return m.storedStates[m.storedStates.length-1]||b},m.hasUrlDuplicate=function(a){var c,b=!1;return c=m.extractState(a.url),b=c&&c.id!==a.id},m.storeState=function(a){return m.urlToId[a.url]=a.id,m.storedStates.push(m.cloneObject(a)),a},m.isLastSavedState=function(a){var c,d,e,b=!1;return m.savedStates.length&&(c=a.id,d=m.getLastSavedState(),e=d.id,b=c===e),b},m.saveState=function(a){return m.isLastSavedState(a)?!1:(m.savedStates.push(m.cloneObject(a)),!0)},m.getStateByIndex=function(a){var b=null;return b="undefined"==typeof a?m.savedStates[m.savedStates.length-1]:0>a?m.savedStates[m.savedStates.length+a]:m.savedStates[a]},m.getHash=function(){var a=m.unescapeHash(d.location.hash);return a},m.unescapeString=function(b){for(var d,c=b;d=a.unescape(c),d!==c;)c=d;return c},m.unescapeHash=function(a){var b=m.normalizeHash(a);return b=m.unescapeString(b)},m.normalizeHash=function(a){var b=a.replace(/[^#]*#/,"").replace(/#.*/,"");return b},m.setHash=function(a,b){var c,e,f;return b!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.setHash,args:arguments,queue:b}),!1):(c=m.escapeHash(a),m.busy(!0),e=m.extractState(a,!0),e&&!m.emulated.pushState?m.pushState(e.data,e.title,e.url,!1):d.location.hash!==c&&(m.bugs.setHash?(f=m.getPageUrl(),m.pushState(null,null,f+"#"+c,!1)):d.location.hash=c),m)},m.escapeHash=function(b){var c=m.normalizeHash(b);return c=a.escape(c),m.bugs.hashEscape||(c=c.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),c},m.getHashByUrl=function(a){var b=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return b=m.unescapeHash(b)},m.setTitle=function(a){var c,b=a.title;b||(c=m.getStateByIndex(0),c&&c.url===a.url&&(b=c.title||m.options.initialTitle));try{d.getElementsByTagName("title")[0].innerHTML=b.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(e){}return d.title=b,m},m.queues=[],m.busy=function(a){if("undefined"!=typeof a?m.busy.flag=a:"undefined"==typeof m.busy.flag&&(m.busy.flag=!1),!m.busy.flag){h(m.busy.timeout);var b=function(){var a,c,d;if(!m.busy.flag)for(a=m.queues.length-1;a>=0;--a)c=m.queues[a],0!==c.length&&(d=c.shift(),m.fireQueueItem(d),m.busy.timeout=g(b,m.options.busyDelay))};m.busy.timeout=g(b,m.options.busyDelay)}return m.busy.flag},m.busy.flag=!1,m.fireQueueItem=function(a){return a.callback.apply(a.scope||m,a.args||[])},m.pushQueue=function(a){return m.queues[a.queue||0]=m.queues[a.queue||0]||[],m.queues[a.queue||0].push(a),m},m.queue=function(a,b){return"function"==typeof a&&(a={callback:a}),"undefined"!=typeof b&&(a.queue=b),m.busy()?m.pushQueue(a):m.fireQueueItem(a),m},m.clearQueue=function(){return m.busy.flag=!1,m.queues=[],m},m.stateChanged=!1,m.doubleChecker=!1,m.doubleCheckComplete=function(){return m.stateChanged=!0,m.doubleCheckClear(),m},m.doubleCheckClear=function(){return m.doubleChecker&&(h(m.doubleChecker),m.doubleChecker=!1),m},m.doubleCheck=function(a){return m.stateChanged=!1,m.doubleCheckClear(),m.bugs.ieDoubleCheck&&(m.doubleChecker=g(function(){return m.doubleCheckClear(),m.stateChanged||a(),!0},m.options.doubleCheckInterval)),m},m.safariStatePoll=function(){var c,b=m.extractState(d.location.href);if(!m.isLastSavedState(b))return c=b,c||(c=m.createStateObject()),m.Adapter.trigger(a,"popstate"),m},m.back=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.back,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.back(!1)}),n.go(-1),!0)},m.forward=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.forward,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.forward(!1)}),n.go(1),!0)},m.go=function(a,b){var c;if(a>0)for(c=1;a>=c;++c)m.forward(b);else{if(!(0>a))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(c=-1;c>=a;--c)m.back(b)}return m},m.emulated.pushState){var o=function(){};m.pushState=m.pushState||o,m.replaceState=m.replaceState||o}else m.onPopState=function(b,c){var g,h,e=!1,f=!1;return m.doubleCheckComplete(),g=m.getHash(),g?(h=m.extractState(g||d.location.href,!0),h?m.replaceState(h.data,h.title,h.url,!1):(m.Adapter.trigger(a,"anchorchange"),m.busy(!1)),m.expectedStateId=!1,!1):(e=m.Adapter.extractEventData("state",b,c)||!1,f=e?m.getStateById(e):m.expectedStateId?m.getStateById(m.expectedStateId):m.extractState(d.location.href),f||(f=m.createStateObject(null,null,d.location.href)),m.expectedStateId=!1,m.isLastSavedState(f)?(m.busy(!1),!1):(m.storeState(f),m.saveState(f),m.setTitle(f),m.Adapter.trigger(a,"statechange"),m.busy(!1),!0))},m.Adapter.bind(a,"popstate",m.onPopState),m.pushState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.pushState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.pushState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0},m.replaceState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.replaceState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.replaceState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0};if(f){try{m.store=k.parse(f.getItem("History.store"))||{}}catch(p){m.store={}}m.normalizeStore()}else m.store={},m.normalizeStore();m.Adapter.bind(a,"beforeunload",m.clearAllIntervals),m.Adapter.bind(a,"unload",m.clearAllIntervals),m.saveState(m.storeState(m.extractState(d.location.href,!0))),f&&(m.onUnload=function(){var a,b;try{a=k.parse(f.getItem("History.store"))||{}}catch(c){a={}}a.idToState=a.idToState||{},a.urlToId=a.urlToId||{},a.stateToId=a.stateToId||{};for(b in m.idToState)m.idToState.hasOwnProperty(b)&&(a.idToState[b]=m.idToState[b]);for(b in m.urlToId)m.urlToId.hasOwnProperty(b)&&(a.urlToId[b]=m.urlToId[b]);for(b in m.stateToId)m.stateToId.hasOwnProperty(b)&&(a.stateToId[b]=m.stateToId[b]);m.store=a,m.normalizeStore(),f.setItem("History.store",k.stringify(a))},m.intervalList.push(i(m.onUnload,m.options.storeInterval)),m.Adapter.bind(a,"beforeunload",m.onUnload),m.Adapter.bind(a,"unload",m.onUnload)),m.emulated.pushState||(m.bugs.safariPoll&&m.intervalList.push(i(m.safariStatePoll,m.options.safariPollInterval)),("Apple Computer, Inc."===e.vendor||"Mozilla"===(e.appCodeName||""))&&(m.Adapter.bind(a,"hashchange",function(){m.Adapter.trigger(a,"popstate")}),m.getHash()&&m.Adapter.onDomLoad(function(){m.Adapter.trigger(a,"hashchange")})))},m.init()}(window);var yatzy=function(window,$,undefined){var pub={},templates={};return pub.compile=function(id){if(undefined===templates[id]){var t=document.getElementById(id);if(t?templates[id]=t.innerHTML:window.console&&console.error("[tpl 13] id: "+id+" not found!"),undefined!==templates[id]){var code="try { var p=[], template_id='"+id+"'; p.push('"+templates[id].replace(/[\r\t\n]/g," ").replace(/<\?/g,"	").replace(/((^|\?>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)\?>/g,"',$1,'").replace(/\t/g,"');").replace(/\?>/g,"p.push('").replace(/\r/g,"\\'")+"');return p.join(''); } catch(ex) { if(window.console) { console.error('[tpl 28] ' + template_id + ' Exception:', ex); } }";templates[id]=new Function("data",code)}}},pub.render=function(id,data){return undefined===templates[id]&&yatzy.compile(id),jQuery.trim(templates[id](data))},pub}(this,jQuery),dialoug=function($){var pub={},loading_status=!1,templates={alert:'<div class="dialoug alert %type%"><h2>%title%</h2><p class="message">%message%</p></div>',confirm:'<div class="dialoug confirm"><h2>%title%</h2><div class="message">%message%</div><div class="buttons"><a class="button right dialoug-confirm btn btn-success btn-sm" data-case="ok" href="">%ok%</a> <a class="button left dialoug-confirm btn btn-danger btn-sm" data-case="cancel" href="">%cancel%</a></div></div>',notice:'<div id="dialoug-message" class="dialoug-message %type%"><p>%message%</p></div>'};return pub.confirm=function(title,message,callback,params){var $callback=callback,defaults={close:"",maxWidth:"400px"};void 0!==params&&$.extend(defaults,params),defaults.overlayClose=!1,defaults.closeButton=!1,defaults.escKey=!1,defaults.html=templates.confirm.replace("%title%",title).replace("%message%",message).replace("%ok%",Translator.get("js:ok")).replace("%cancel%",Translator.get("js:cancel")),$("html").hasClass("ie")&&(defaults.html+="<br><br>"),$.colorbox(defaults),$("#cboxContent .dialoug a").bind("click",function(event){$("#cboxContent .dialoug a").unbind("click"),event.preventDefault(),$.colorbox.close(),void 0!==$callback&&$callback($(this).data("case"))})},pub.alert=function(title,message,type,timeout){void 0===type&&(type="info"),$.colorbox({top:"25%",maxWidth:"400px",close:Translator.get("js:close"),html:templates.alert.replace("%title%",title).replace("%message%",message).replace("%type%",type)}),void 0!==timeout&&"number"==typeof timeout&&setTimeout(function(){$.colorbox.close()},timeout)},pub.info=function(title,message,timeout){pub.alert(title,message,"info",timeout)},pub.warning=function(title,message,timeout){pub.alert(title,message,"warning",timeout)},pub.error=function(title,message,timeout){pub.alert(title,message,"error",timeout)},pub.notice=function(message,type,timeout,selector){var $main;$main=$(void 0===selector?"#main":selector);var $notice=$("h1",$main);type=void 0===type?"info":type;var tpl=templates.notice.replace("%message%",message).replace("%type%",type);$notice.length&&!$("body").hasClass("is-mobile")?$notice.after(tpl):$main.is("input")?($main.before(tpl),$main=$main.parent()):$main.prepend(tpl);var $message=$("div#dialoug-message",$main),dim=$message.offset();$(document).scrollTop(dim.top-($message.height()+50)),$message.slideDown(),void 0!==timeout&&$.isNumeric(timeout)&&setTimeout(function(){$message.slideUp(function(){$message.remove()})},timeout)},pub.blockingNotice=function(title,message){$.colorbox({top:"25%",maxWidth:"500px",close:"",overlayClose:!1,closeButton:!1,escKey:!1,html:templates.alert.replace("%title%",title).replace("%message%",message).replace("%type%","notice")})},pub.slideNotice=function(message,duration,selector){var is_mobile=$("body").hasClass("is-mobile");void 0===duration&&(duration=2e3),"string"==typeof selector&&(selector=$(selector)),void 0===selector&&(selector=$("body")),$("body").append('<div id="slide-notice-box" class="slide-notice-box"><div>'+message+"</div></div>");var $slide=$("#slide-notice-box"),offset=selector.offset(),slideWidth=$slide.outerWidth();return is_mobile===!1?($("html,body").animate({scrollTop:0}),$("div",$slide).css({width:$slide.innerWidth()}),$slide.css({left:offset.left-17,width:0}),void $slide.animate({width:slideWidth,left:offset.left-(slideWidth+17)}).delay(duration).animate({left:offset.left-17,width:0},function(){$slide.remove()})):($slide.hide(),void $slide.slideDown(300,function(){$slide.delay(duration).slideUp(400,function(){$slide.remove()})}))},pub.loading=function(selector,message,position){return loading_status?void 0:("string"==typeof selector&&(selector=$(selector)),selector.each(function(){var $this=$(this),msg=void 0===message?"":message,tpl='<div class="dialoug-loading"><div>'+msg+"</div></div>";"body"===selector&&(tpl='<div class="dialoug-loading fullscreen"><div>'+msg+"</div></div>"),void 0===position?$this.after(tpl):"append"==position?$this.append(tpl):$this.before(tpl),loading_status=!0}),!0)},pub.stopLoading=function(){loading_status&&($(".dialoug-loading").remove(),loading_status=!1)},sleep=function(delay){for(var start=(new Date).getTime();(new Date).getTime()<start+delay;);},pub}(jQuery);!function($){$('a.colorbox, a[rel="colorbox"]').colorbox(),$(document).bind("cbox_load",function(){$("#cboxClose").addClass("sprite close")})}(jQuery),$(function(){if($("div#flowplayer-container").length){$("a#flowplayer").parent().before('<button href="#" rel="div.overlay" id="pop-flowplayer"> <img src="" alt="" class="thumb" /> <img src="'+cdn_url+'/fx/scripts/flowplayer/play.png" alt="" class="play" /> video </button>'),$("#pop-flowplayer img.thumb").attr("src",$(".productimage-large a.cloud-zoom").attr("rev"));var player=$f("flowplayer",cdn_url+"/fx/scripts/flowplayer/flowplayer.commercial-3.2.7.swf",{wmode:"opaque",key:["#@abc69980d87e1bdf4c0","#@7420e35e69f7d145217","#@c653c42454bc68842d6","#@bed07fa279e220368ee"]}),position=$("div.productimage-large").position();$("button[rel]").overlay({effect:"apple",top:position.top-22,left:position.left-22,mask:{loadSpeed:"fast",opacity:.9},onLoad:function(){player.load(),player.setVolume(100)},onClose:function(){player.unload()}})}$('div#cms-page a[href*=".flv"]').each(function(){$f(this,{src:cdn_url+"/fx/scripts/flowplayer/flowplayer.commercial-3.2.7.swf"},{wmode:"opaque",key:["#@abc69980d87e1bdf4c0","#@7420e35e69f7d145217","#@c653c42454bc68842d6","#@bed07fa279e220368ee"],clip:{url:this.href,autoPlay:!0},onLoad:function(){this.setVolume(100)}})})}),VideoJS.setupAllWhenReady(),$(function(){$("a.video-popper").click(function(event){event.preventDefault();var $this=$(this),height=$this.data("height"),width=$this.data("width");$.colorbox({iframe:!0,href:this.href+"?src="+$this.data("src")+"&height="+height+"&width="+width,innerHeight:height+20+"px",innerWidth:width+15+"px",className:"js-keep-close-button",close:""})}),$("a.video-embed").each(function(){var $this=$(this),autoplay=$this.data("autoplay"),params=$this.data();params.embed=1,$this.load(this.href,params,function(){var $video=$this.find("video"),player=VideoJS.setup($video.attr("id"));if($video.closest("div.video-js-box").unwrap(),autoplay&&1==autoplay&&(player.play(),void 0!==_gaq)){var src=$video.find("source").first().attr("src");void 0===src&&(src=cdn_url+"/video/"+params.src+".flv"),_gaq.push(["_trackPageview",src])}})}),$("video").on("play pause ended",function(event){if(void 0!==_gaq)switch(event.type){case"play":_gaq.push(["_trackEvent","Videos","Play",this.currentSrc]);break;case"play":_gaq.push(["_trackEvent","Videos","Paused",this.currentSrc,parseInt(this.getTime(),10)]);break;case"ended":_gaq.push(["_trackEvent","Videos","Ended",this.currentSrc])}})}),function(){var gui=function($){var pub={};return pub.initUI=function(){switch($(".js-loading-spinner").on("click",function(){dialoug.loading($(this))}),$(".datepicker").datepicker({dateFormat:"dd-mm-yy"}),$(".datetimepicker").datetimepicker({dateFormat:"dd-mm-yy"}),$(".cache-clear").click(function(e){e.preventDefault();var $a=$(this);$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&(window.scrollTo(window.scrollMinX,window.scrollMinY),dialoug.slideNotice(response.message))}})}),$(".sortable-item.ui-state-disabled").addClass("collapsed").find(" > ul").hide(),$(".sortable-item > div.record .record-id").on("click",function(event){event.preventDefault();var $li=$(this).closest("li");$li.find("ul").first().slideToggle(),$li.hasClass("collapsed")?$li.removeClass("collapsed"):$li.addClass("collapsed")}),$("#sortable-list").nestedSortable({listType:"ul",handle:"div",helper:"clone",items:"li",cancel:"",opacity:.5,placeholder:"helper",forcePlaceholderSize:!0,errorClass:"err",maxLevels:5,tolerance:"pointer",toleranceElement:"> div"}),$(".save-nestedsortable").click(function(e){e.preventDefault();var list=$("ul#sortable-list").nestedSortable("toArray",{startDepthCount:0});$.ajax({url:"update-tree/",dataType:"json",type:"POST",data:{data:list},async:!1,success:function(response){!1===response.status?response.message&&dialoug.alert(Translator.get("js:notice"),response.message):(window.scrollTo(window.scrollMinX,window.scrollMinY),dialoug.slideNotice(response.message))},error:function(){dialoug.error(Translator.get("js:notice"),Translator.get("js:an.error.occurred"))}})}),$("#sortable-list a.delete").click(function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>slette</strong> CMS noden?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&($a.parent().parent().parent().fadeOut(function(){$(this).remove()}),window.scrollTo(window.scrollMinX,window.scrollMinY),dialoug.slideNotice(response.message))}})})}),$("#inactive_nodes a.delete").click(function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>slette</strong> CMS noden?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&($a.parent().parent().fadeOut(function(){$(this).remove()}),window.scrollTo(window.scrollMinX,window.scrollMinY),dialoug.slideNotice(response.message))}})})}),$("#orders a.delete").click(function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>slette</strong> ordren?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&($a.parent().parent().fadeOut(function(){$(this).remove()}),window.scrollTo(window.scrollMinX,window.scrollMinY),dialoug.slideNotice(response.message))}})})}),$("#form_cms_thread_id").change(function(){var $sel=$("#form_parent_id"),thread=$(this).val();$("optgroup:not([label^="+thread+"]), optgroup:not([label^="+thread+"]) option",$sel).remove(),$(this).attr("disabled","disabled")}),$("#cms-edit-form .form-title").blur(function(){var $path=$(this).parent().parent().parent().find(".form-path");if(0===$path.val().length&&0!==$(this).val().length){var locale=$(this).closest(".panel").data("locale"),parent_path="";"undefined"!=typeof paths[locale]&&(parent_path=paths[locale]);for(var slug="",chars={:"ae",:"AE",:"oe",:"OE",:"aa",:"AA",:"e",:"E",:"e",:"E",:"a",:"A",:"a",:"A",:"a",:"A",:"o",:"O",:"o",:"O",:"o",:"O",:"u",:"U",:"u",:"U",:"u",:"U",:"i",:"I",:"i",:"I",:"i",:"I",:"ss",:"y",:"Y"," ":"-","/":"-"},title=$(this).val(),i=0;i<title.length;i++)slug+=chars[title.charAt(i)]?chars[title.charAt(i)]:title.charAt(i);slug=slug.replace(/[^-\w\s$\*\(\)\'\!\_]/g,"-"),slug=slug.replace(/^\s+|\s+$/g,""),slug=slug.replace(/[-\s]+/g,"-"),slug=parent_path+"/"+slug.replace(/-$/,""),slug=slug.toLowerCase(),$path.val(slug)}}),$("#cms-edit-form .form-settings").on("blur",function(){try{$(this).val()&&JSON.parse($(this).val())}catch(exception){dialoug.error(Translator.get("js:notice"),"Indstillinger er ikke kompatibelt JSON kode.")}}),$("#cms-edit-form"),$("ul#product-list-sort").sortable({distance:30,forceHelperSize:!0,forcePlaceholderSize:!0,items:"li",opacity:.5,placeholder:"placeholder",scroll:!0}),$("ul#product-list-sort .sortable-item .sort-up").on("click",function(){var current=$(this).closest(".sortable-item");
current.prev().insertAfter(current)}),$("ul#product-list-sort .sortable-item .sort-down").on("click",function(){var current=$(this).closest(".sortable-item");current.next().insertBefore(current)}),$(".save-sortable").on("click",function(e){e.preventDefault();var list=$("ul#product-list-sort").sortable("toArray");$.ajax({url:"../../update-sort/",dataType:"json",type:"POST",data:{data:list},async:!1,success:function(response){!1===response.status?response.message&&dialoug.alert(Translator.get("js:notice",response.message)):dialoug.alert(response.message,"")},error:function(){dialoug.error(Translator.get("js:notice"),Translator.get("js:an.error.occurred"))}})}),$(".product-selector").change(function(){var $product_select=$(this),selectedOption=$product_select.find("option:selected"),$color_select=$product_select.next(".product-color-selector"),reference=selectedOption.val().split("-"),image=reference[0],product=reference[1];$.ajax({url:"../reference-get-color/",dataType:"json",type:"POST",data:{image:image,product:product},async:!1,success:function(response){!1===response.status?response.message&&dialoug.alert(Translator.get("js:notice",response.message)):($color_select.find("option").not(".initial").remove(),response.data.length>0?($.each(response.data,function(key,value){$color_select.append($("<option></option>").attr("value",value).text(value))}),$color_select.removeAttr("disabled")):($color_select.attr("disabled","disabled"),$color_select.val(0)))},error:function(){dialoug.error(Translator.get("js:notice"),Translator.get("js:an.error.occurred"))}})}),$(".product-color-selector").change(function(){var $color_select=$(this),$product_select=$color_select.prev(".product-selector"),selectedOption=$product_select.find("option:selected"),reference=selectedOption.val().split("-"),image=reference[0],product=reference[1],color=$color_select.find("option:selected").val();$.ajax({url:"../add-reference/",dataType:"json",type:"POST",data:{image:image,product:product,color:color},async:!1,success:function(response){!1===response.status?response.message&&dialoug.alert(Translator.get("js:notice",response.message)):($color_select.next("ul").append('<li><span class="actions"><a href="'+base_url+"products/delete-reference/"+image+"/"+product+'" class="delete glyphicon glyphicon-remove-circle" title="Delete"></a> </span><span class="id">(#'+product+')</span><span class="sku">'+selectedOption.text()+'</span> - <span class="color">'+color+"</span></li>"),$color_select.attr("disabled","disabled").find("option").not(".initial").remove(),$product_select.val(0),$color_select.val(0))},error:function(){dialoug.error(Translator.get("js:notice"),Translator.get("js:an.error.occurred"))}})}),$("#product-images-list a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>slette</strong> Billede referencen?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().parent().fadeOut(function(){$(this).remove()})}})})}),$(".image-category-selector").change(function(){var $selector=$(this),selectedOption=$selector.find("option:selected"),reference=selectedOption.val().split("-"),image=reference[0],category=reference[1];$.ajax({url:"../add-image-to-category/",dataType:"json",type:"POST",data:{image:image,category:category},async:!1,success:function(response){!1===response.status?response.message&&dialoug.alert(Translator.get("js:notice",response.message)):$selector.next("ul").append('<li><span class="actions"><a href="'+base_url+"products/delete-image-from-category/"+image+"/"+category+'" class="delete glyphicon glyphicon-remove-circle" title="Slet"></a> </span><span class="sku">'+selectedOption.text()+"</span></li>")},error:function(){dialoug.error(Translator.get("js:notice"),Translator.get("js:an.error.occurred"))}}),$(this).val(0)}),$("#product-category-selector").change(function(){var selectedOption=$(this).find("option:selected"),reference=selectedOption.val().split("-"),category=reference[0],product=reference[1];$.ajax({url:"../add-category/",dataType:"json",type:"POST",data:{category:category,product:product},async:!1,success:function(response){!1===response.status?response.message&&dialoug.alert(Translator.get("js:notice",response.message)):$("#product-categories").append('<li><span class="actions"><a href="'+base_url+"products/delete-category/"+category+"/"+product+'" class="delete glyphicon glyphicon-remove-circle" title="Slet"></a> </span><span class="id">(#'+category+')</span><span class="title"> '+selectedOption.text()+"</span></li>")},error:function(){dialoug.error(Translator.get("js:notice"),Translator.get("js:an.error.occurred"))}}),$(this).val(0)}),$("#product-categories a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>slette</strong> Kategorien fra produktet ?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().parent().fadeOut(function(){$(this).remove()})}})})}),$("#product-related-products-selector").change(function(){var selectedOption=$(this).find("option:selected"),reference=selectedOption.val().split("-"),master=reference[0],sku=reference[1];$.ajax({url:"../add-related/",dataType:"json",type:"POST",data:{master:master,sku:sku},async:!1,success:function(response){!1===response.status?response.message&&dialoug.alert(Translator.get("js:notice",response.message)):$("#product-related-products").append('<li><span class="actions"><a href="'+base_url+"products/delete-related/"+master+"/"+sku+'" class="delete glyphicon glyphicon-remove-circle" title="Slet"></a></span><span class="title"> '+selectedOption.text()+"</span></li>")},error:function(){dialoug.error(Translator.get("js:notice"),Translator.get("js:an.error.occurred"))}}),$(this).val(0)}),$("#product-related-products a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>slette</strong> produktet fra realterede produkter ?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().parent().fadeOut(function(){$(this).remove()})}})})}),$("#translation-list a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>slette</strong> oversttelsen til kategorien ?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().fadeOut(function(){$(this).remove()})}})})}),$("#category-list a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>slette</strong> denne kategori ?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().fadeOut(function(){$(this).remove()})}})})}),$("#washing a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>slette</strong> denne kategori ?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().parent().fadeOut(function(){$(this).remove()})}})})}),$("#messages a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>slette</strong> denne besked ?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().parent().fadeOut(function(){$(this).remove()})}})})}),$("#redirects a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>slette</strong> denne Redirect ?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().parent().fadeOut(function(){$(this).remove()})}})})}),$("#zip_to_city a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>slette</strong> dette Post Nummer ?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().parent().fadeOut(function(){$(this).remove()})}})})}),$("#customers a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>slette</strong> denne kunde ?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().parent().fadeOut(function(){$(this).remove()})}})})}),$("#consultant-settings-edit-form").submit(function(e){e.preventDefault(),$.ajax({url:base_url+"consultants/update-setting",dataType:"json",type:"POST",data:{max_amount:$(this).find("#form_max_amount").val(),date:$(this).find("#form_date_month").val()+"/"+$(this).find("#form_date_day").val()+"/"+$(this).find("#form_date_year").val()},async:!1,success:function(response){!1===response.status?response.message&&dialoug.alert(Translator.get("js:notice",response.message)):(window.scrollTo(window.scrollMinX,window.scrollMinY),dialoug.slideNotice(response.message))},error:function(){dialoug.error(Translator.get("js:notice"),Translator.get("js:an.error.occurred"))}}),$(this).val(0)}),$("#gift-cards a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>slette</strong> Gavekortet ?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().parent().fadeOut(function(){$(this).remove()})}})})}),$("#gift-cards-to-customers a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>fjerne</strong> denne bruger ?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().parent().fadeOut(function(){$(this).remove()})}})})}),$("#gift-card-customer-selector").change(function(){var selectedOption=$(this).find("option:selected"),reference=selectedOption.val().split("-"),customer=reference[0],gift_card=reference[1];$.ajax({url:base_url+"gift-cards/add-customer",dataType:"json",type:"POST",data:{customer:customer,gift_card:gift_card},async:!1,success:function(response){!1===response.status?response.message&&dialoug.alert(Translator.get("js:notice",response.message)):$("#gift-cards-to-customers").append('<li><span class="actions"><a href="'+base_url+"products/delete-category/"+customer+"/"+gift_card+'" class="delete" title="Slet">Slet</a></span><span class="name"> '+selectedOption.text()+"</span></li>")},error:function(){dialoug.error(Translator.get("js:notice"),Translator.get("js:an.error.occurred"))}}),$(this).val(0)}),$("#helpdesk a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>fjerne</strong> denne ?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().parent().fadeOut(function(){$(this).remove()})}})})}),$("#styles a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>fjerne</strong> denne style?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().parent().fadeOut(function(){$(this).remove()})}})})}),$("#quantity_discounts a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>fjerne</strong> denne rabat?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().parent().fadeOut(function(){$(this).remove()})}})})}),$("#languages a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>fjerne</strong> dette sprog?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().parent().fadeOut(function(){$(this).remove()})}})})}),$("#events a.delete").on("click",function(e){e.preventDefault();var $a=$(this);dialoug.confirm(Translator.get("js:notice"),"Er du sikker p du vil <strong>fjerne</strong> dette event?",function(choice){"ok"==choice&&$.ajax({url:$a.attr("href"),dataType:"json",async:!1,success:function(response){response.status&&$a.parent().parent().fadeOut(function(){$(this).remove()})}})})}),navigator.platform){case"iPad":case"iPhone":case"iPod":$("html").addClass("ios")}$('a[rel="colorbox"]').each(function(){var $element=$(this),iframe=!1;$element.hasClass("iframe")&&(iframe=!0),$(this).colorbox({iframe:iframe})}),$('a[rel="confirm"]').each(function(){var $this=$(this),msg=$this.data("confirm-message");msg&&$this.on("click",function(event){event.preventDefault(),dialoug.confirm("OBS !",msg,function(state){"ok"==state&&(document.location.href=$this.attr("href"))})})})},pub.initAnimatedMenu=function(){$("nav.main > ul > li > a").hover(function(){var $this=$(this),left=$this.data("pl-save");void 0===left&&(left=parseInt($this.css("padding-left"),0),$this.data("plsave",left)),$this.animate({"padding-left":left+10+"px"},"fast")},function(){var $this=$(this);$this.animate({"padding-left":$this.data("plsave")+"px"},"fast")})},pub}(jQuery);gui.initUI(),gui.initAnimatedMenu()}(document,jQuery),$(".sidebar-toggle").click(function(e){e.preventDefault(),$(".container-fluid").toggleClass("active"),$(".container-fluid .sidebar-toggle").toggleClass("glyphicon-step-forward glyphicon-step-backward")});var admin_gothia=function($){var pub={},current_order_id=null;return pub.init=function(){$("#gothia-admin-order-lookup").submit(function(e){if(e.preventDefault(),""===$("#order-id").val())return alert("Manglende ordre id"),!1;var data=$(this).serialize(),customer_html="",order_html="";$.ajax({url:base_url+"orders/gothia/get-order",type:"post",dataType:"json",data:data,success:function(data){data.status?(customer_html=data.data.order.customer.name+"<br>",order_html="ID: "+data.data.order.id+"<br>Belb: "+data.data.order.amount+"<br>State: "+data.data.order.state,current_order_id=data.data.order.id,$("#gothia-admin-order-perform .customer").html(customer_html),$("#gothia-admin-order-perform .order").html(order_html),$("#gothia-admin-order-perform").slideDown()):(current_order_id=null,$("#gothia-admin-order-perform .customer").html(),$("#gothia-admin-order-perform .order").html(),$("#gothia-admin-order-perform").slideUp(),alert(data.message))}})}),$("#place-reservation").click(function(e){e.preventDefault();var data={"order-id":current_order_id};$.ajax({url:base_url+"orders/gothia/place-reservation",type:"post",dataType:"json",data:data,success:function(data){alert(data.message)}})}),$("#cancel-reservation").click(function(e){e.preventDefault();var data={"order-id":current_order_id};$.ajax({url:base_url+"orders/gothia/cancel-reservation",type:"post",dataType:"json",data:data,success:function(data){alert(data.message)}})})},pub}(jQuery),maps=function($){var pub={};pub.initZip=function(){$("#geo-zipcode-form").submit(function(e){e.preventDefault(),dialoug.loading("#near-you-container",Translator.get("js:loading.std"),"prepend");var url=base_url+"muneris/gpc/"+encodeURI($("#geo-zipcode-container #geo-zipcode").val());$.getJSON(url,function(response){if(!1===response.status||"undefined"==typeof response.data.postcodes||0===response.data.postcodes.length)return void dialoug.stopLoading();var req="/"+geo_zipcode_params.type+"/"+response.data.postcodes[0].lat+"/"+response.data.postcodes[0].lng;$.getJSON(base_url+"rest/v1/gm/near_you"+req,function(result){if(dataToContainer(result.data),"undefined"!=typeof gm_settings){var map=getMap("consultants-map-canvas-2");result.data.length?(populateMap(map,result.data,!0),$("#consultants-map-canvas-2").show(),google.maps.event.trigger(map,"resize")):$("#consultants-map-canvas-2").hide()}})}),$("#geo-zipcode-container #geo-zipcode").val("")})},pub.initContainer=function(){dialoug.loading("#near-you-container",Translator.get("js:loading.std"),"prepend"),$("#near-you-container").after('<div id="consultants-map-canvas-2" style="width:100%; height:300px; display:none;"></div>');var req="/"+near_you_params.type+"/0/0";$.getJSON(base_url+"rest/v1/gm/near_you"+req,function(result){if(dataToContainer(result.data),"undefined"!=typeof gm_settings){var map=getMap("consultants-map-canvas-2");result.data.length?(populateMap(map,result.data,!0),$("#consultants-map-canvas-2").show(),google.maps.event.trigger(map,"resize")):$.getJSON(base_url+"rest/v1/gm/consultants",function(consultant_result){populateMap(map,consultant_result.data,!0)})}})},pub.initConsultantsmap=function(){var map=getMap("consultants-map-canvas");$.getJSON(base_url+"rest/v1/gm/consultants",function(result){populateMap(map,result.data)})};var getMap=function(id){var zc=void 0===gm_settings.zoomControl?!0:gm_settings.zoomControl;return new google.maps.Map(document.getElementById(id),{zoom:gm_settings.zoom,center:new google.maps.LatLng(gm_settings.lat,gm_settings.lng),disableDefaultUI:!0,disableDoubleClickZoom:zc?!1:!0,scrollwheel:zc,zoomControl:zc,scaleControl:!0,navigationControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP})},populateMap=function(map,data,fit){var bounds=new google.maps.LatLngBounds;$.each(data,function(i,item){var text=Translator.get("js:consultant")+"<br>"+item.name+"<br>"+item.zip+" "+item.city+"<br><br><p>"+Translator.get("js:phone")+": "+item.phone+"<br>"+Translator.get("js:email")+': <a href="mailto:'+item.email+'">'+item.email+"</a><br><br>"+item.info,point=new google.maps.LatLng(item.latitude,item.longitude);bounds.extend(point);var infowindow=new google.maps.InfoWindow({content:text}),markerParams={position:point,map:map,icon:cdn_url+"fx/images/POMPdeLUX_map_logo.png"},marker=new google.maps.Marker(markerParams);google.maps.event.addListener(marker,"click",function(){infowindow.open(map,marker)})}),void 0!==fit&&fit===!0&&(map.fitBounds(bounds),1===data.length&&map.setZoom(map.getZoom()-7))},dataToContainer=function(data){$("#near-you-container div:not(.dialoug-loading), #near-you-container hr").remove(),$("#near-you-container").append(yatzy.render("consultantItem",data)),dialoug.stopLoading(),$("body").trigger("near-you-container.loaded")};return pub}(jQuery);$("#geo-zipcode-form").length&&maps.initZip(),$("#near-you-container").length&&maps.initContainer(),$("#consultants-map-canvas").length&&($("body").hasClass("is-mobile")&&(gm_settings.zoom=gm_settings.zoom-1,$("#consultants-map-canvas").width("100%")),"undefined"!=typeof gm_settings&&maps.initConsultantsmap());var adminDeadOrders=function($){function attachEvents(){$("#dead-orders-form a.delete-order, #failed-orders-form a.delete-order").click(function(e){e.preventDefault();var orderId=$(this).data("order-id");dialoug.confirm(Translator.get("js:notice"),$(this).data("confirm-message"),function(choise){"ok"===choise&&$.ajax({url:base_url+"orders/delete/"+orderId,dataType:"json",async:!1,success:function(){response.status&&($a.parent().parent().fadeOut(function(){$(this).remove()}),window.scrollTo(window.scrollMinX,window.scrollMinY),dialoug.slideNotice(response.message))}})})}),$("a.delete-order-log").on("click",function(event){event.preventDefault();var $element=$(this).closest("tr"),href=this.href;dialoug.confirm(Translator.get("js:notice"),$(this).data("confirm-message"),function(choise){if("ok"===choise){var xhr=$.ajax({url:href,dataType:"json",async:!1});xhr.done(function(response){response.status&&$element.fadeOut(function(){$element.remove()})})}})}),$("a.preview-order, a.resend-order").on("click",function(event){event.preventDefault();var $a=$(this);$a.parent().find(".loader").show();var $row=$a.closest("tr"),oid=$a.closest("form").find("input").val();oid=void 0===oid?"":"/"+oid,$.getJSON(this.href+oid,function(result){result.status?result.message?(dialoug.info(Translator.get("js:notice"),result.message),$row.fadeOut()):$.colorbox({html:result.data.html}):dialoug.alert(Translator.get("js:notice"),result.message),$a.parent().find(".loader").hide()})}),$("#dead-orders-form tbody tr").each(function(){var $row=$(this),oid=$(this).data("id");$.ajax({url:base_url+"orders/dead/check/"+oid,type:"post",dataType:"json",success:function(result){result.status?result.message&&(dialoug.info(Translator.get("js:notice"),result.message),$row.fadeOut()):$row.find("td.error-msg").text(result.data.error_msg+" ")}})})}var pub={};return pub.init=function(){attachEvents()},pub}(jQuery);
//# sourceMappingURL=admin.min.map